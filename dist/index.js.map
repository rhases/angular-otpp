{"version":3,"sources":["webpack:///webpack/bootstrap e74fd0fd541da6e41a01","webpack:///external \"angular\"","webpack:///./src/module-name.ts","webpack:///external \"lodash\"","webpack:///./src/index.ts","webpack:///external \"angular-animate\"","webpack:///external \"angular-formly\"","webpack:///external \"angular-formly-templates-bootstrap\"","webpack:///./src/directives/things.component.ts","webpack:///./src/directives/things.controller.ts","webpack:///./src/directives/things.pug","webpack:///./src/directives/otpp-video.component.ts","webpack:///./node_modules/videogular/dist/videogular/videogular.js","webpack:///./node_modules/videogular/dist/controls/vg-controls.js","webpack:///./node_modules/angular-sanitize/index.js","webpack:///./node_modules/angular-sanitize/angular-sanitize.js","webpack:///./src/directives/otpp-video.controller.ts","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/directives/otpp-video.pug","webpack:///./src/directives/tips.component.ts","webpack:///./src/directives/tips.controller.ts","webpack:///./src/directives/tips.pug","webpack:///./src/services/things.service.ts","webpack:///./src/services/execution.service.ts","webpack:///./src/model/thing.ts","webpack:///./src/services/transitions.service.ts","webpack:///./src/services/form-answer.service.ts","webpack:///./src/index.scss"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,6GAA6G;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD,YAAY;;AAEjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,WAAW;AAC7C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iCAAiC,uDAAuD;;AAExF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D,OAAO;AACrE;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,yEAAyE;AACvG;;AAEA;AACA,6BAA6B,yEAAyE;AACtG;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,iBAAiB;;AAEvD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,uEAAuE;AACvE;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;;AAEA;AACA;;AAEA,8BAA8B;AAC9B;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mCAAmC,kBAAkB;AACrD;;AAEA;AACA;AACA,mCAAmC,mBAAmB;;AAEtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,uBAAuB;;AAE5D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,OAAO;AACpD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA4B,cAAc;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB,oBAAoB,mBAAmB,+BAA+B,oCAAoC;;AAE7J;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mFAAmF,SAAS,QAAQ,SAAS;AAC7G;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2DAA2D,OAAO;AAClE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qB;AACA;AACA,0B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAA0D,OAAO;AACjE;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,8EAA8E,KAAK;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAuC,YAAY;AACnD;AACA,OAAO,SAAS,iGAAiG,SAAS;AAC1H;AACA,WAAW,OAAO;AAClB;AACA;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;;AAEA,8DAA8D,OAAO;AACrE;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;;AAEA,4CAA4C,OAAO;AACnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;;;;;;;;AClpDL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;;AAEA,wCAAwC;;AAExC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mDAAmD;AACnD;;AAEA;AACA,mDAAmD;AACnD;;AAEA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uCAAuC;;AAEvC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,UAAU;AAC/F,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iEAAiE,OAAO;AACxE;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0EAA0E,KAAK;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB;AACjE,wCAAwC,2BAA2B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD,6BAA6B,yBAAyB;AACtD,6BAA6B,6BAA6B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;;;;;;AC/3CA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAuC;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,uBAAuB;AAC/F;AACA,mEAAmE,wBAAwB;AAC3F;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,8BAA8B,SAAS,QAAQ;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,IAAI,QAAQ;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB,SAAS,QAAQ;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA,mBAAmB,0BAA0B;AAC7C,mBAAmB,gDAAgD,cAAc,OAAO;AACxF,0BAA0B,MAAM;AAChC,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0BAA0B,QAAQ,MAAM;AAC1D,MAAM;AACN;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qDAAqD;AAC1F;AACA;AACA;AACA,8CAA8C,mCAAmC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA,8BAA8B,cAAc;AAC5C;AACA,kCAAkC,cAAc;AAChD,4BAA4B;AAC5B,6BAA6B,cAAc;AAC3C;AACA,UAAU,qDAAqD;AAC/D;AACA,2DAA2D,oBAAoB;AAC/E;AACA,cAAc,kBAAkB;AAChC;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,gFAAgF;AACtF,MAAM,kFAAkF;AACxF;AACA;AACA,8CAA8C,mCAAmC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;;AAEA;AACA,+BAA+B;AAC/B;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,uCAAuC;AACvC,8BAA8B;AAC9B,iCAAiC;AACjC;AACA,MAAM;AACN;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,+EAA+E;AAC/E,OAAO;AACP;AACA,8CAA8C;AAC9C,OAAO;AACP,yBAAyB;AACzB,yBAAyB;AACzB;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB,uCAAuC;AACvC,8BAA8B;AAC9B,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kGAAkG,EAAE;AACpG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,SAAS,0BAA0B;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,qBAAqB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO,qBAAqB,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sCAAsC,QAAQ,QAAQ;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4DAA4D,QAAQ,QAAQ;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wDAAwD,gBAAgB,KAAK,QAAQ,QAAQ;AAClH;AACA;AACA,qEAAqE,gBAAgB;AACrF;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB,QAAQ,QAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA,sEAAsE,g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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e74fd0fd541da6e41a01","module.exports = require(\"angular\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 0\n// module chunks = 0","export default 'otpp';\n\n\n\n// WEBPACK FOOTER //\n// ./src/module-name.ts","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 2\n// module chunks = 0","const angular = require('angular');\nconst angularAnimate = require('angular-animate');\nconst formly = require('angular-formly');\nconst formlyTemplatesBootstrap = require('angular-formly-templates-bootstrap');\n\nimport things from './directives/things.component'\nimport video from './directives/otpp-video.component';\nimport tips from './directives/tips.component'\n\nimport { ThingsService }  from './services/things.service'\nimport { FormAnswerService } from './services/form-answer.service';\n\nimport ngModuleName from './module-name';\n\nimport './index.scss';\n\nexport default ngModuleName\n\nconst ngModule = angular.module(ngModuleName, [\n  angularAnimate,\n  formly,\n  formlyTemplatesBootstrap,\n  things,\n  tips,\n  video\n])\n\n//ngModule.constant('formlyVersion', VERSION) // <-- webpack variable\n//ngModule.provider('formlyConfig', formlyConfig)\n\nngModule.service('ThingsService', ThingsService)\nngModule.service('FormAnswerService', FormAnswerService)\n\n//ngModule.run(formlyCustomTags)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","module.exports = require(\"angular-animate\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular-animate\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"angular-formly\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular-formly\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"angular-formly-templates-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular-formly-templates-bootstrap\"\n// module id = 6\n// module chunks = 0","'use strict';\n/* eslint no-sync: 0 */\nconst angular = require('angular');\nimport ThingsController from './things.controller'\nimport ngModuleName from '../module-name';\n\nexport default angular.module(ngModuleName + '.things', [])\n  .directive('things', function() {\n    return {\n      template: require('./things.pug'),\n\n      restrict: 'E',\n\n      scope: {\n        transitions: '=',\n        things: '=',\n        enableBackButton: '=',\n\n        model: '=',\n        form: '=',\n        thingKey: '=',\n\n        onStart: '&',\n        onStartThing: '&',\n\n        onFinish: '&',\n        onFinishThing: '&'\n      },\n\n      controller: ThingsController,\n    }\n  })\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/things.component.ts","'use strict';\n\nvar _ = require('lodash');\n\nimport { ThingsService } from '../services/things.service'\nimport { FormAnswerService } from '../services/form-answer.service'\n\nexport default function ThingsController($scope: any, $timeout, $sce, $parse, $window, $filter, ThingsService: ThingsService, \n  FormAnswerService: FormAnswerService, $stateParams: any, $log: any) {\n  'ngInject';\n\n  if (!$scope.transitions || !$scope.things)\n    return;\n\n  FormAnswerService.start($scope, 'model');\n\n  ThingsService.load($scope.transitions, $scope.things, $scope.thingKey, $scope.onStart, $scope.onStartThing, $scope.onFinish, $scope.onFinishThing);\n\n  $scope.current = ThingsService.getCurrentThing();\n  $scope.current.scope = _.clone(FormAnswerService.get());\n  $scope.current.scope.form = $scope.form;\n  $scope.currentTitle = resolve($scope.current, $scope.current.title )\n  $scope.currentSubtitle = resolve($scope.current, $scope.current.subtitle)\n  $scope.currentText = resolve($scope.current, $scope.current.text)\n\n  $scope.next = function() {\n    FormAnswerService.add($scope.current.scope);\n    $timeout(function() {\n      ThingsService.next();\n    }, 50)\n  }\n\n  $scope.back = function() {\n    ThingsService.back();\n  }\n\n  this.$onInit = function () {\n    $timeout(function () {\n      $scope.startedValid = $scope.thingForm && $scope.thingForm.$valid;\n      if ($scope.current.immediate\n        && (!$scope.startedValid || _.isEmpty($scope.current.fields))) {\n        executeImmediate();\n      }\n    }, 250)\n  }\n\n  function executeImmediate() {\n    var checkIfCanPassDebounced = _.debounce(checkIfCanPass, 250, { 'maxWait': 1500 });\n\n    $scope.$watch(function() { return $scope.thingForm.$invalid && $scope.thingForm.$pending; }, checkIfCanPassDebounced);\n\n    function checkIfCanPass() {\n      console.log('checkIfCanPass')\n      if (!$scope.thingForm.$invalid && !$scope.thingForm.$pending) {\n        $scope.next();\n      }\n    }\n  }\n\n  function resolve(thing, expression) {\n    let value;\n    if (_.isObject(expression)) {\n      for (var key in expression) {\n        if($parse(key)({ scope: thing.scope })){\n          value = expression[key];\n        }\n      }\n    }else {\n      value = expression;\n    }\n    if (value && value.charAt(0) == '`') {\n      var formatCurrency = $filter('currency');\n      var scope = thing.scope;\n      try {\n        eval(\"value = \" + value)\n      } catch(err) {\n        $log.error(err);\n      }\n    }\n    return $sce.trustAsHtml(value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/things.controller.ts","module.exports = \"<div class=\\\"things-box\\\" ng-class=\\\"current.thingClass\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-12\\\"><h2 class=\\\"thing-title\\\" ng-bind-html=\\\"currentTitle\\\" ng-if=\\\"!!currentTitle\\\"></h2><h2 class=\\\"thing-title\\\" ng-bind-html=\\\"currentSubtitle\\\" ng-if=\\\"!!currentSubtitle\\\"></h2><p class=\\\"thing-text\\\" ng-bind-html=\\\"currentText\\\" ng-if=\\\"!!currentText\\\" ng-class=\\\"current.textClass\\\"></p><div class=\\\"thing-images\\\" ng-repeat=\\\"image in current.images\\\" ng-if=\\\"!!current.images\\\"><img class=\\\"thing-image\\\" ng-src=\\\"{{image.src}}\\\" alt=\\\"{{image.alt}}\\\" ng-class=\\\"image.class\\\"/></div><br class=\\\"hidden-xs\\\"/><span ng-if=\\\"!!current.video\\\"><otpp-video video-config=\\\"current.video\\\"></otpp-video></span><form class=\\\"form-vertical\\\" name=\\\"thingForm\\\" novalidate=\\\"\\\" ng-class=\\\"current.formClass\\\"><div class=\\\"thing-form\\\"><formly-form model=\\\"current.scope\\\" fields=\\\"current.fields\\\"></formly-form><br class=\\\"hidden-xs\\\"/><tips tips=\\\"current.tips.values\\\" image=\\\"current.tips.image\\\" values=\\\"current.scope\\\"></tips><br class=\\\"hidden-xs\\\" ng-show=\\\"current.tips &amp;&amp; current.tips.values.length &gt; 0\\\"/></div><div class=\\\"thing-button\\\"><div class=\\\"text-righ btn-group\\\" ng-hide=\\\"!startedValid &amp;&amp; current.immediate\\\"><button class=\\\"pull-right btn btn-primary btn-lg\\\" ng-click=\\\"next()\\\" ng-disabled=\\\"thingForm.$invalid || thingForm.$pending\\\" ng-hide=\\\"current.disableNextButton\\\"> Próximo</button><button class=\\\"pull-left btn btn-secondary btn-lg\\\" ng-click=\\\"back()\\\" ng-hide=\\\"!enableBackButton || current.disableBackButton\\\"> <i class=\\\"fa fa-caret-left\\\"></i></button></div></div></form></div></div></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/directives/things.pug\n// module id = 9\n// module chunks = 0","'use strict';\n/* eslint no-sync: 0 */\n\nconst videogular = require('videogular/dist/videogular/videogular');\nconst videogularControls = require('videogular/dist/controls/vg-controls');\n\nconst angular = require('angular');\nconst ngSanitize = require('angular-sanitize');\n\nimport OtppVideoController from './otpp-video.controller'\nimport ngModuleName from '../module-name';\n\nexport default angular.module(ngModuleName + '.video', [\n  ngSanitize,\n  \"com.2fdevs.videogular\",\n  \"com.2fdevs.videogular.plugins.controls\"\n])\n  .directive('otppVideo', function() {\n    return {\n      template: require('./otpp-video.pug'),\n\n      restrict: 'E',\n\n      scope: {\n        videoConfig: '=',\n      },\n\n      controller: OtppVideoController,\n    }\n  })\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/otpp-video.component.ts","/**\n * @license videogular v1.4.4 http://videogular.com\n * Two Fucking Developers http://twofuckingdevelopers.com\n * License: MIT\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\", [\"ngSanitize\"])\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-media-video\", \"<video></video>\");\n        $templateCache.put(\"vg-templates/vg-media-audio\", \"<audio></audio>\");\n\n        // Support for browsers that doesn't have .bind()\n        if (!Function.prototype.bind) {\n            Function.prototype.bind = function (oThis) {\n                if (typeof this !== 'function') {\n                    // closest thing possible to the ECMAScript 5\n                    // internal IsCallable function\n                    throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n                }\n\n                var aArgs = Array.prototype.slice.call(arguments, 1),\n                    fToBind = this,\n                    fNOP = function () {\n                    },\n                    fBound = function () {\n                        return fToBind.apply(this instanceof fNOP\n                                ? this\n                                : oThis,\n                            aArgs.concat(Array.prototype.slice.call(arguments)));\n                    };\n\n                fNOP.prototype = this.prototype;\n                fBound.prototype = new fNOP();\n\n                return fBound;\n            };\n        }\n    }]\n);\n\n/**\n * @ngdoc service\n * @name com.2fdevs.videogular.constant:VG_STATES\n *\n * @description\n * Possible video states:\n *  - VG_STATES.PLAY: \"play\"\n *  - VG_STATES.PAUSE: \"pause\"\n *  - VG_STATES.STOP: \"stop\"\n **/\n/**\n * @ngdoc service\n * @name com.2fdevs.videogular.constant:VG_VOLUME_KEY\n *\n * @description localStorage key name for persistent video play volume on a domain.\n **/\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .constant(\"VG_STATES\", {\n        PLAY: \"play\",\n        PAUSE: \"pause\",\n        STOP: \"stop\"\n    })\n    .constant(\"VG_VOLUME_KEY\", \"videogularVolume\");\n\n\"use strict\";\n/**\n * @ngdoc controller\n * @name com.2fdevs.videogular.controller:vgController\n * @description\n * Videogular controller.\n * This controller offers a public API:\n *\n * Methods\n * - play(): Plays media.\n * - pause(): Pause media.\n * - stop(): Stops media.\n * - playPause(): Toggles play and pause.\n * - seekTime(value, byPercent): Seeks to a specified time position. Param value must be an integer representing the target position in seconds or a percentage. By default seekTime seeks by seconds, if you want to seek by percentage just pass byPercent to true.\n * - setVolume(volume): Sets volume. Param volume must be a float number with a value between 0 and 1.\n * - setPlayback(playback): Sets playback. Param plaback must be a float number with a value between 0 and 2.\n * - setState(state): Sets a new state. Param state mus be an string with 'play', 'pause' or 'stop'. This method only changes the state of the player, but doesn't plays, pauses or stops the media file.\n * - toggleFullScreen(): Toggles between fullscreen and normal mode.\n * - updateTheme(css-url): Removes previous CSS theme and sets a new one.\n * - clearMedia(): Cleans the current media file.\n * - changeSource(array): Updates current media source. Param `array` must be an array of media source objects.\n * A media source is an object with two properties `src` and `type`. The `src` property must contains a trustful url resource. You may explicitly supply an `isLive` flag to override automatic detection.\n * <pre>{src: $sce.trustAsResourceUrl(\"http://static.videogular.com/assets/videos/videogular.mp4\"), type: \"video/mp4\"}</pre>\n *\n * Properties\n * - config: String with a url to JSON config file.\n * - isReady: Boolean value with current player initialization state.\n * - isBuffering: Boolean value to know if player is buffering media.\n * - isCompleted: Boolean value to know if current media file has been completed.\n * - isLive: Boolean value to know if current media file is a Live Streaming.\n * - playsInline: Boolean value to know if Videogular is using inline playing or not.\n * - nativeFullscreen: Boolean value to know if Videogular if fullscreen mode will use native mode or emulated mode.\n * - mediaElement: Reference to video/audio object.\n * - videogularElement: Reference to videogular tag.\n * - sources: Array with current sources.\n * - activeSource: The source presently applied to the media element.\n * - tracks: Array with current tracks.\n * - cuePoints: Object containing a list of timelines with cue points. Each property in the object represents a timeline, which is an Array of objects with the next definition:\n * <pre>{\n *    timeLapse:{\n *      start: 0,\n *      end: 10\n *    },\n *    onEnter: callback(currentTime, timeLapse, params),\n *    onLeave: callback(currentTime, timeLapse, params),\n *    onUpdate: callback(currentTime, timeLapse, params),\n *    onComplete: callback(currentTime, timeLapse, params),\n *    params: {\n *      // Custom object with desired structure and data\n *    }\n * }</pre>\n *\n *    * **timeLapse:** Object with start and end properties to define in seconds when this timeline is active.\\n\n *    * **onEnter:** Callback function that will be called when progress reaches a cue point or being outside a cue point user seeks to a cue point manually.\n *    * **onLeave:** Callback function that will be called when user seeks and the new time doesn't reach to the timeLapse.start property.\n *    * **onUpdate:** Callback function that will be called when the progress is in the middle of timeLapse.start and timeLapse.end.\n *    * **onComplete:** Callback function that will be called when the progress is bigger than timeLapse.end.\n *    * **params:** Custom object with data to pass to the callbacks.\n *\n * - isFullScreen: Boolean value to know if we’re in fullscreen mode.\n * - currentState: String value with “play”, “pause” or “stop”.\n * - currentTime: Number value with current media time progress.\n * - totalTime: Number value with total media time.\n * - timeLeft: Number value with current media time left.\n * - volume: Number value with current volume between 0 and 1.\n * - playback: Number value with current playback between 0 and 2.\n * - bufferEnd: Number value with latest buffer point in milliseconds.\n * - buffered: Array of TimeRanges objects that represents current buffer state.\n *\n */\nangular.module(\"com.2fdevs.videogular\")\n    .controller(\"vgController\",\n    ['$scope', '$window', 'vgConfigLoader', 'vgFullscreen', 'VG_UTILS', 'VG_STATES', 'VG_VOLUME_KEY', function ($scope, $window, vgConfigLoader, vgFullscreen, VG_UTILS, VG_STATES, VG_VOLUME_KEY) {\n        var currentTheme = null;\n        var isFullScreenPressed = false;\n        var isMetaDataLoaded = false;\n        var hasStartTimePlayed = false;\n        var isVirtualClip = false;\n        var playPromise = null;\n\n        // PUBLIC $API\n        this.videogularElement = null;\n\n        this.clearMedia = function () {\n            this.mediaElement[0].src = '';\n            this.mediaElement[0].removeEventListener(\"canplay\", this.onCanPlay.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"loadedmetadata\", this.onLoadMetaData.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"waiting\", this.onStartBuffering.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"ended\", this.onComplete.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"playing\", this.onStartPlaying.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"play\", this.onPlay.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"pause\", this.onPause.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"volumechange\", this.onVolumeChange.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"playbackchange\", this.onPlaybackChange.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"timeupdate\", this.onUpdateTime.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"progress\", this.onProgress.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"seeking\", this.onSeeking.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"seeked\", this.onSeeked.bind(this), false);\n            this.mediaElement[0].removeEventListener(\"error\", this.onVideoError.bind(this), false);\n        };\n\n        this.onRouteChange = function() {\n            if (this.clearMediaOnNavigate === undefined || this.clearMediaOnNavigate === true) {\n                this.clearMedia();\n            }\n        };\n\n        this.onCanPlay = function (evt) {\n            this.isBuffering = false;\n            $scope.$parent.$digest($scope.vgCanPlay({$event: evt}));\n\n            if (!hasStartTimePlayed && (this.startTime > 0 || this.startTime === 0)) {\n                this.seekTime(this.startTime);\n                hasStartTimePlayed = true;\n            }\n        };\n\n        this.onVideoReady = function () {\n            this.isReady = true;\n            this.autoPlay = $scope.vgAutoPlay;\n            this.playsInline = $scope.vgPlaysInline;\n            this.nativeFullscreen = normalizeBooleanValue($scope.vgNativeFullscreen, true);\n            this.cuePoints = $scope.vgCuePoints;\n            this.startTime = $scope.vgStartTime;\n            this.virtualClipDuration = $scope.vgVirtualClipDuration;\n            this.clearMediaOnNavigate = normalizeBooleanValue($scope.vgClearMediaOnNavigate, true);\n            this.currentState = VG_STATES.STOP;\n\n            isMetaDataLoaded = true;\n            isVirtualClip = this.startTime >= 0 && this.virtualClipDuration > 0;\n\n            //Set media volume from localStorage if available\n            if (VG_UTILS.supportsLocalStorage()) {\n                //Default to 100% volume if local storage setting does not exist.\n                this.setVolume(parseFloat($window.localStorage.getItem(VG_VOLUME_KEY) || '1'));\n            }\n\n            if ($scope.vgConfig) {\n                vgConfigLoader.loadConfig($scope.vgConfig).then(\n                    this.onLoadConfig.bind(this)\n                );\n            }\n            else {\n                $scope.vgPlayerReady({$API: this});\n            }\n        };\n\n        this.onLoadConfig = function (config) {\n            this.config = config;\n\n            $scope.vgTheme = this.config.theme;\n            $scope.vgAutoPlay = this.config.autoPlay;\n            $scope.vgPlaysInline = this.config.playsInline;\n            $scope.vgNativeFullscreen = this.config.nativeFullscreen;\n            $scope.vgCuePoints = this.config.cuePoints;\n            $scope.vgClearMediaOnNavigate = this.config.clearMediaOnNavigate;\n            $scope.vgStartTime = this.config.startTime;\n            $scope.vgVirtualClipDuration = this.config.virtualClipDuration;\n            isVirtualClip = $scope.vgStartTime >= 0 && $scope.vgVirtualClipDuration > 0;\n\n            $scope.vgPlayerReady({$API: this});\n        };\n\n        this.onLoadMetaData = function (evt) {\n            this.isBuffering = false;\n            this.onUpdateTime(evt);\n        };\n\n        this.onProgress = function (event) {\n            this.updateBuffer(event);\n\n            $scope.$parent.$digest();\n        };\n\n        this.updateBuffer = function getBuffer(event) {\n            var buffered = event.target.buffered;\n\n            if (buffered && buffered.length) {\n                this.buffered = buffered;\n                this.bufferEnd = 1000 * buffered.end(buffered.length - 1);\n\n                // Avoid bufferEnd overflow by virtual clips\n                if (this.bufferEnd > this.totalTime) this.bufferEnd = this.totalTime;\n            }\n        };\n\n        this.onUpdateTime = function (event) {\n            var targetTime = 1000 * event.target.currentTime;\n            var isLiveSourceOverride = this.activeSource && angular.isDefined(this.activeSource.isLive);\n\n            this.updateBuffer(event);\n\n            if (event.target.duration != Infinity && event.target.duration != null && event.target.duration != undefined && event.target.duration != 1.7976931348623157e+308) {\n                // Fake the duration and current time for virtual clips\n                if (isVirtualClip) {\n                    if (hasStartTimePlayed && (event.target.currentTime < this.startTime || event.target.currentTime - this.startTime > this.virtualClipDuration)) {\n                        this.onComplete();\n                    }\n                    else {\n                        this.currentTime = Math.max(0, targetTime - (1000 * this.startTime));\n                        this.totalTime = 1000 * this.virtualClipDuration;\n                        this.timeLeft = (1000 * this.virtualClipDuration) - this.currentTime;\n                    }\n                }\n                else {\n                    this.currentTime = targetTime;\n                    this.totalTime = 1000 * event.target.duration;\n                    this.timeLeft = 1000 * (event.target.duration - event.target.currentTime);\n                }\n\n                this.isLive = false;\n            }\n            else {\n                // It's a live streaming without and end\n                this.currentTime = targetTime;\n                this.isLive = true;\n            }\n\n            // allow for the user to override the built in live detection for cases where it doesn't work as desired\n            if (isLiveSourceOverride) {\n                this.isLive = !!this.activeSource.isLive;\n            }\n\n            var targetSeconds = isVirtualClip ? this.currentTime / 1000 : event.target.currentTime;\n            var targetDuration = isVirtualClip ? this.totalTime / 1000 : event.target.duration;\n\n            if (this.cuePoints) {\n                this.checkCuePoints(targetSeconds);\n            }\n\n            $scope.vgUpdateTime({$currentTime: targetSeconds, $duration: targetDuration});\n\n            // Safe apply just in case we're calling from a non-event\n            if ($scope.$$phase != '$apply' && $scope.$$phase != '$digest') {\n                $scope.$parent.$digest();\n            }\n        };\n\n        this.checkCuePoints = function checkCuePoints(currentTime) {\n            for (var tl in this.cuePoints) {\n                for (var i = 0, l = this.cuePoints[tl].length; i < l; i++) {\n                    var cp = this.cuePoints[tl][i];\n                    var currentSecond = parseInt(currentTime, 10);\n                    var start = parseInt(cp.timeLapse.start, 10);\n\n                    // If timeLapse.end is not defined we set it as 1 second length\n                    if (!cp.timeLapse.end) cp.timeLapse.end = cp.timeLapse.start + 1;\n\n                    if (currentTime < cp.timeLapse.end) cp.$$isCompleted = false;\n\n                    // Fire the onEnter event once reach to the cue point\n                    if(!cp.$$isDirty && currentSecond === start && (typeof cp.onEnter == 'function')) {\n                        cp.onEnter(currentTime, cp.timeLapse, cp.params);\n                        cp.$$isDirty = true;\n                    }\n\n                    // Check if we've been reached to the cue point\n                    if (currentTime > cp.timeLapse.start) {\n                        // We're in the timelapse\n                        if (currentTime < cp.timeLapse.end) {\n                            // Trigger onUpdate each time we enter here\n                            if (cp.onUpdate) cp.onUpdate(currentTime, cp.timeLapse, cp.params);\n\n                            // Trigger onEnter if we enter on the cue point by manually seeking\n                            if (!cp.$$isDirty && (typeof cp.onEnter === 'function')) {\n                                cp.onEnter(currentTime, cp.timeLapse, cp.params);\n                            }\n                        }\n\n                        // We've been passed the cue point\n                        if (currentTime >= cp.timeLapse.end) {\n                            if (cp.onComplete && !cp.$$isCompleted) {\n                                cp.$$isCompleted = true;\n                                cp.onComplete(currentTime, cp.timeLapse, cp.params);\n                            }\n                        }\n\n                        cp.$$isDirty = true;\n                    }\n                    else {\n                        if (cp.onLeave && cp.$$isDirty) {\n                            cp.onLeave(currentTime, cp.timeLapse, cp.params);\n                        }\n\n                        cp.$$isDirty = false;\n                    }\n                }\n            }\n        };\n\n        this.onPlay = function () {\n            this.setState(VG_STATES.PLAY);\n            $scope.$parent.$digest();\n        };\n\n        this.onPause = function () {\n            var currentTime = isVirtualClip ? this.currentTime : this.mediaElement[0].currentTime;\n\n            if (currentTime == 0) {\n                this.setState(VG_STATES.STOP);\n            }\n            else {\n                this.setState(VG_STATES.PAUSE);\n            }\n\n            $scope.$parent.$digest();\n        };\n\n        this.onVolumeChange = function () {\n            this.volume = this.mediaElement[0].volume;\n            $scope.$parent.$digest();\n        };\n\n        this.onPlaybackChange = function () {\n            this.playback = this.mediaElement[0].playbackRate;\n            $scope.$parent.$digest();\n        };\n\n        this.onSeeking = function (event) {\n            $scope.vgSeeking({$currentTime: event.target.currentTime, $duration: event.target.duration});\n        };\n\n        this.onSeeked = function (event) {\n            $scope.vgSeeked({$currentTime: event.target.currentTime, $duration: event.target.duration});\n        };\n\n        this.seekTime = function (value, byPercent) {\n            if (!Number.isFinite(value)) {\n                throw new TypeError('Expecting a finite number value.');\n            }\n\n            var second;\n            if (byPercent) {\n                if (isVirtualClip) {\n                    value = Math.max(0, Math.min(value, 100));\n                    second = (value * this.virtualClipDuration / 100);\n                    this.mediaElement[0].currentTime = this.startTime + second;\n                }\n                else {\n                    second = value * this.mediaElement[0].duration / 100;\n                    this.mediaElement[0].currentTime = second;\n                }\n            }\n            else {\n                if (isVirtualClip) {\n                    var durationPercent = value/this.mediaElement[0].duration;\n                    second = !hasStartTimePlayed ? 0 : this.virtualClipDuration * durationPercent;\n                    this.mediaElement[0].currentTime = !hasStartTimePlayed ? this.startTime : this.startTime + second;\n                }\n                else {\n                    second = value;\n                    this.mediaElement[0].currentTime = second;\n                }\n            }\n\n            this.currentTime = 1000 * second;\n        };\n\n        this.playPause = function () {\n            if (this.mediaElement[0].paused) {\n                this.play();\n            }\n            else {\n                this.pause();\n            }\n        };\n\n        this.setState = function (newState) {\n            if (newState && newState != this.currentState) {\n                $scope.vgUpdateState({$state: newState});\n\n                this.currentState = newState;\n            }\n\n            return this.currentState;\n        };\n\n        this.play = function () {\n            var mediaElement = this.mediaElement[0];\n\n            // short-circuit if already playing\n            if (playPromise || !mediaElement.paused) {\n                return;\n            }\n\n            playPromise = mediaElement.play();\n\n            if (playPromise && playPromise.then && playPromise.catch) { // browser has async play promise\n                playPromise\n                    .then(function() {\n                        playPromise = null;\n                    })\n                    .catch(function() {\n                        // deliberately empty for the sake of eating console noise\n                    });\n            }\n\n            this.setState(VG_STATES.PLAY);\n        };\n\n        this.pause = function () {\n            var mediaElement = this.mediaElement[0];\n            \n            if (playPromise) { // browser has async play promise\n                playPromise.then(function() {\n                    mediaElement.pause();\n                });\n            } else {\n                mediaElement.pause()\n            }\n            \n            this.setState(VG_STATES.PAUSE);\n        };\n\n        this.stop = function () {\n            try {\n                this.mediaElement[0].pause();\n\n                var targetTime = isVirtualClip ? this.startTime : 0;\n                this.mediaElement[0].currentTime = targetTime;\n\n                this.currentTime = targetTime;\n                this.buffered = [];\n                this.bufferEnd = 0;\n                this.setState(VG_STATES.STOP);\n            }\n            catch (e) {\n                return e;\n            }\n        };\n\n        this.toggleFullScreen = function () {\n            // There is no native full screen support or we want to play inline\n            if (!vgFullscreen.isAvailable || !this.nativeFullscreen) {\n                if (this.isFullScreen) {\n                    this.videogularElement.removeClass(\"fullscreen\");\n                    this.videogularElement.css(\"z-index\", \"auto\");\n                }\n                else {\n                    this.videogularElement.addClass(\"fullscreen\");\n                    this.videogularElement.css(\"z-index\", VG_UTILS.getZIndex());\n                }\n\n                this.isFullScreen = !this.isFullScreen;\n            }\n            // Perform native full screen support\n            else {\n                if (this.isFullScreen) {\n                    if (!VG_UTILS.isMobileDevice()) {\n                        vgFullscreen.exit();\n                    }\n                }\n                else {\n                    // On mobile devices we should make fullscreen only the video object\n                    if (VG_UTILS.isMobileDevice()) {\n                        // On iOS we should check if user pressed before fullscreen button\n                        // and also if metadata is loaded\n                        if (VG_UTILS.isiOSDevice()) {\n                            if (isMetaDataLoaded) {\n                                this.enterElementInFullScreen(this.mediaElement[0]);\n                            }\n                            else {\n                                isFullScreenPressed = true;\n                                this.play();\n                            }\n                        }\n                        else {\n                            this.enterElementInFullScreen(this.mediaElement[0]);\n                        }\n                    }\n                    else {\n                        this.enterElementInFullScreen(this.videogularElement[0]);\n                    }\n                }\n            }\n        };\n\n        this.enterElementInFullScreen = function (element) {\n            vgFullscreen.request(element);\n        };\n\n        this.changeSource = function (newValue) {\n            this.activeSource = newValue;\n\n            if (angular.isDefined(newValue.isLive)) {\n                this.isLive = !!newValue.isLive;\n            }\n\n            $scope.vgChangeSource({$source: newValue});\n        };\n\n        this.setVolume = function (newVolume) {\n            newVolume = Math.max(Math.min(newVolume, 1), 0);\n            $scope.vgUpdateVolume({$volume: newVolume});\n\n            this.mediaElement[0].volume = newVolume;\n            this.volume = newVolume;\n\n            //Push volume updates to localStorage so that future instances resume volume\n            if (VG_UTILS.supportsLocalStorage()) {\n                //TODO: Improvement: concat key with current page or \"video player id\" to create separate stored volumes.\n                $window.localStorage.setItem(VG_VOLUME_KEY, newVolume.toString());\n            }\n        };\n\n        this.setPlayback = function (newPlayback) {\n            $scope.vgUpdatePlayback({$playBack: newPlayback});\n\n            this.mediaElement[0].playbackRate = newPlayback;\n            this.playback = newPlayback;\n        };\n\n        this.updateTheme = function (value) {\n            var links = document.getElementsByTagName(\"link\");\n            var i;\n            var l;\n\n            // Remove previous theme\n            if (currentTheme) {\n                for (i = 0, l = links.length; i < l; i++) {\n                    if (links[i].outerHTML.indexOf(currentTheme) >= 0) {\n\n                        links[i].parentNode.removeChild(links[i]);\n                        break;\n                    }\n                }\n            }\n\n            if (value) {\n                var headElem = angular.element(document).find(\"head\");\n                var exists = false;\n\n                // Look if theme already exists\n                for (i = 0, l = links.length; i < l; i++) {\n                    exists = (links[i].outerHTML.indexOf(value) >= 0);\n                    if (exists) break;\n                }\n\n                if (!exists) {\n                    headElem.append(\"<link rel='stylesheet' href='\" + value + \"'>\");\n                }\n\n                currentTheme = value;\n            }\n        };\n\n        this.onStartBuffering = function (event) {\n            this.isBuffering = true;\n            $scope.$parent.$digest();\n        };\n\n        this.onStartPlaying = function (event) {\n            this.isBuffering = false;\n            $scope.$parent.$digest();\n        };\n\n        this.onComplete = function (event) {\n            $scope.vgComplete();\n\n            this.setState(VG_STATES.STOP);\n            this.isCompleted = true;\n\n            if (isVirtualClip) {\n                this.stop()\n            }\n\n            $scope.$parent.$digest();\n        };\n\n        this.onVideoError = function (event) {\n            $scope.vgError({$event: event});\n        };\n\n        this.addListeners = function () {\n            this.mediaElement[0].addEventListener(\"canplay\", this.onCanPlay.bind(this), false);\n            this.mediaElement[0].addEventListener(\"loadedmetadata\", this.onLoadMetaData.bind(this), false);\n            this.mediaElement[0].addEventListener(\"waiting\", this.onStartBuffering.bind(this), false);\n            this.mediaElement[0].addEventListener(\"ended\", this.onComplete.bind(this), false);\n            this.mediaElement[0].addEventListener(\"playing\", this.onStartPlaying.bind(this), false);\n            this.mediaElement[0].addEventListener(\"play\", this.onPlay.bind(this), false);\n            this.mediaElement[0].addEventListener(\"pause\", this.onPause.bind(this), false);\n            this.mediaElement[0].addEventListener(\"volumechange\", this.onVolumeChange.bind(this), false);\n            this.mediaElement[0].addEventListener(\"playbackchange\", this.onPlaybackChange.bind(this), false);\n            this.mediaElement[0].addEventListener(\"timeupdate\", this.onUpdateTime.bind(this), false);\n            this.mediaElement[0].addEventListener(\"progress\", this.onProgress.bind(this), false);\n            this.mediaElement[0].addEventListener(\"seeking\", this.onSeeking.bind(this), false);\n            this.mediaElement[0].addEventListener(\"seeked\", this.onSeeked.bind(this), false);\n            this.mediaElement[0].addEventListener(\"error\", this.onVideoError.bind(this), false);\n        };\n\n        this.init = function () {\n            this.isReady = false;\n            this.isCompleted = false;\n            this.buffered = [];\n            this.bufferEnd = 0;\n            this.currentTime = 0;\n            this.totalTime = 0;\n            this.timeLeft = 0;\n            this.isLive = false;\n            this.isFullScreen = false;\n            this.playback = 1;\n            this.isConfig = ($scope.vgConfig != undefined);\n            this.mediaElement = [{play:function(){}, pause:function(){}, stop:function(){}, addEventListener:function(){}, removeEventListener: function(){}}];\n\n            if (vgFullscreen.isAvailable) {\n                this.isFullScreen = vgFullscreen.isFullScreen();\n            }\n\n            this.updateTheme($scope.vgTheme);\n            this.addBindings();\n\n            if (vgFullscreen.isAvailable) {\n                document.addEventListener(vgFullscreen.onchange, this.onFullScreenChange.bind(this));\n            }\n        };\n\n        this.onUpdateTheme = function onUpdateTheme(newValue) {\n            this.updateTheme(newValue);\n        };\n\n        this.onUpdateAutoPlay = function onUpdateAutoPlay(newValue) {\n            if (newValue && !this.autoPlay) {\n                this.autoPlay = newValue;\n                this.play(this);\n            }\n        };\n\n        this.onUpdateStartTime = function onUpdateStartTime(newValue) {\n            if (newValue && (newValue != this.startTime)) {\n                this.mediaElement[0].currentTime = newValue;\n                this.startTime = newValue;\n                isVirtualClip = this.startTime >= 0 && this.virtualClipDuration > 0;\n\n                var fakeEvent = {\n                    target: this.mediaElement[0]\n                };\n                this.onUpdateTime(fakeEvent, true);\n            }\n        };\n\n        this.onUpdateVirtualClipDuration = function onUpdateVirtualClipDuration(newValue) {\n            if (newValue && (newValue != this.virtualClipDuration)) {\n                this.virtualClipDuration = newValue;\n                isVirtualClip = this.startTime >= 0 && this.virtualClipDuration > 0;\n\n                var fakeEvent = {\n                    target: this.mediaElement[0]\n                };\n                this.onUpdateTime(fakeEvent, true);\n            }\n        };\n\n        this.onUpdatePlaysInline = function onUpdatePlaysInline(newValue) {\n            this.playsInline = newValue;\n        };\n\n        this.onUpdateNativeFullscreen = function onUpdateNativeFullscreen(newValue) {\n            this.nativeFullscreen = normalizeBooleanValue(newValue, true);\n        };\n\n        this.onUpdateCuePoints = function onUpdateCuePoints(newValue) {\n            this.cuePoints = newValue;\n            this.checkCuePoints(this.currentTime / 1000);\n        };\n\n        this.onUpdateClearMediaOnNavigate = function onUpdateClearMediaOnNavigate(newValue) {\n            this.clearMediaOnNavigate = normalizeBooleanValue(newValue, true);\n        };\n\n        this.addBindings = function () {\n            $scope.$watch(\"vgTheme\", this.onUpdateTheme.bind(this));\n\n            $scope.$watch(\"vgAutoPlay\", this.onUpdateAutoPlay.bind(this));\n\n            $scope.$watch(\"vgStartTime\", this.onUpdateStartTime.bind(this));\n\n            $scope.$watch(\"vgVirtualClipDuration\", this.onUpdateVirtualClipDuration.bind(this));\n\n            $scope.$watch(\"vgPlaysInline\", this.onUpdatePlaysInline.bind(this));\n\n            $scope.$watch(\"vgNativeFullscreen\", this.onUpdateNativeFullscreen.bind(this));\n\n            $scope.$watch(\"vgCuePoints\", this.onUpdateCuePoints.bind(this));\n\n            $scope.$watch(\"vgClearMediaOnNavigate\", this.onUpdateClearMediaOnNavigate.bind(this));\n        };\n\n        this.onFullScreenChange = function (event) {\n            this.isFullScreen = vgFullscreen.isFullScreen();\n            $scope.$parent.$digest();\n        };\n\n        function normalizeBooleanValue(value, defaultValue) {\n            // input may be boolean or string, so this will normalize to a boolean\n            return angular.isDefined(value) ? value.toString() === 'true' : !!defaultValue;\n        }\n\n        // Empty mediaElement on destroy to avoid that Chrome downloads video even when it's not present\n        $scope.$on('$destroy', this.clearMedia.bind(this));\n\n        // Empty mediaElement when router changes\n        $scope.$on('$routeChangeStart', this.onRouteChange.bind(this));\n\n        this.init();\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.directive:vgCrossorigin\n * @restrict A\n * @description\n * Optional directive for `vg-media` to add or remove a crossorigin policy to the video object. Possible values are: \"anonymous\" and \"use-credentials\".\n * This feature should be enabled if you want to have your subtitles or video files on a different domain than the video player. Additionally you need\n * to add CORS policies to your video and track files to your server to make it work.\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"vgCrossorigin\",\n    [function () {\n        return {\n            restrict: \"A\",\n            require: \"^videogular\",\n            link: {\n                pre: function (scope, elem, attr, API) {\n                    var crossorigin;\n\n                    scope.setCrossorigin = function setCrossorigin(value) {\n                        if (value) {\n                            API.mediaElement.attr(\"crossorigin\", value);\n                        }\n                        else {\n                            API.mediaElement.removeAttr(\"crossorigin\");\n                        }\n                    };\n\n                    if (API.isConfig) {\n                        scope.$watch(\n                            function () {\n                                return API.config;\n                            },\n                            function () {\n                                if (API.config) {\n                                    scope.setCrossorigin(API.config.crossorigin);\n                                }\n                            }\n                        );\n                    }\n                    else {\n                        scope.$watch(attr.vgCrossorigin, function (newValue, oldValue) {\n                            if ((!crossorigin || newValue != oldValue) && newValue) {\n                                crossorigin = newValue;\n                                scope.setCrossorigin(crossorigin);\n                            }\n                            else {\n                                scope.setCrossorigin();\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.directive:vgLoop\n * @restrict A\n * @description\n * Optional directive for `vg-media` to add or remove loop in media files. Possible values are: \"true\" and \"false\"\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"vgLoop\",\n    [function () {\n        return {\n            restrict: \"A\",\n            require: \"^videogular\",\n            link: {\n                pre: function (scope, elem, attr, API) {\n                    var loop;\n\n                    scope.setLoop = function setLoop(value) {\n                        if (value) {\n                            API.mediaElement.attr(\"loop\", value);\n                        }\n                        else {\n                            API.mediaElement.removeAttr(\"loop\");\n                        }\n                    };\n\n                    if (API.isConfig) {\n                        scope.$watch(\n                            function () {\n                                return API.config;\n                            },\n                            function () {\n                                if (API.config) {\n                                    scope.setLoop(API.config.loop);\n                                }\n                            }\n                        );\n                    }\n                    else {\n                        scope.$watch(attr.vgLoop, function (newValue, oldValue) {\n                            if ((!loop || newValue != oldValue) && newValue) {\n                                loop = newValue;\n                                scope.setLoop(loop);\n                            }\n                            else {\n                                scope.setLoop();\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.direcitve:vgMedia\n * @restrict E\n * @description\n * Directive to add a source of videos or audios. This directive will create a &lt;video&gt; or &lt;audio&gt; tag and usually will be above plugin tags.\n *\n * @param {array} vgNativePlayBlacklist An array of functions that accept a media source object and a user agent string. If the function returns true, native playback will be prevented.\n * @param {array} vgSrc Bindable array with a list of media sources or a simple url string. A media source is an object with two properties `src` and `type`. The `src` property must contains a trustful url resource.\n * @param {string} vgType String with \"video\" or \"audio\" values to set a <video> or <audio> tag inside <vg-media>.\n * \n * <pre>\n * {\n *    src: $sce.trustAsResourceUrl(\"path/to/video/videogular.mp4\"),\n *    type: \"video/mp4\"\n * }\n * </pre>\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"vgMedia\",\n    [\"$timeout\", \"$window\", \"VG_UTILS\", \"VG_STATES\", function ($timeout, $window, VG_UTILS, VG_STATES) {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            templateUrl: function (elem, attrs) {\n                var vgType = attrs.vgType || \"video\";\n                return attrs.vgTemplate || \"vg-templates/vg-media-\" + vgType;\n            },\n            scope: {\n                vgNativePlayBlacklist: \"=?\",\n                vgSrc: \"=?\",\n                vgType: \"=?\"                \n            },\n            link: function (scope, elem, attrs, API) {\n                var sources;\n\n                // what type of media do we want? defaults to 'video'\n                if (!attrs.vgType || attrs.vgType === \"video\") {\n                    attrs.vgType = \"video\";\n                }\n                else {\n                    attrs.vgType = \"audio\";\n                }\n\n                // FUNCTIONS\n                scope.onChangeSource = function onChangeSource(newValue, oldValue) {\n                    if ((!sources || newValue != oldValue) && newValue) {\n                        sources = newValue;\n\n                        if (API.currentState !== VG_STATES.PLAY) {\n                            API.currentState = VG_STATES.STOP;\n                        }\n\n                        API.sources = sources;\n                        scope.changeSource();\n                    }\n                };\n\n                scope.changeSource = function changeSource() {\n                    var canPlay = \"\";\n                    var isSourceApplied = false;\n                    var normalizedSources = angular.isArray(sources) ? sources : [sources];\n                    var firstSource = normalizedSources.length ? normalizedSources[0] : null;\n\n                    // It's a cool browser\n                    if (API.mediaElement[0].canPlayType) {\n                        for (var i = 0, l = sources.length; i < l; i++) {\n                            var currentSource = sources[i];\n\n                            if (!currentSource || isNativePlayBlacklisted(currentSource)) {\n                                continue;\n                            }\n\n                            //check to see if the media element can play the current source\n                            canPlay = API.mediaElement[0].canPlayType(currentSource.type);\n\n                            //if it's usable, apply the current source\n                            if (canPlay == \"maybe\" || canPlay == \"probably\") {\n                                isSourceApplied = true;\n\n                                applySourceToMediaElement(currentSource);\n                                break;\n                            }\n                        }\n                    }\n                    // It's a crappy browser and it doesn't deserve any respect\n                    else if (firstSource && !isNativePlayBlacklisted(firstSource)) {\n                        isSourceApplied = true;\n\n                        // Get H264 or the first one\n                        applySourceToMediaElement(firstSource);\n                    }\n\n                    if (isSourceApplied) {\n                        // Android 2.3 support: https://github.com/2fdevs/videogular/issues/187\n                        if (VG_UTILS.isMobileDevice()) API.mediaElement[0].load();\n\n                        //autoplay behavior\n                        $timeout(function () {\n                            if (API.autoPlay && (VG_UTILS.isCordova() || !VG_UTILS.isMobileDevice())) {\n                                API.play();\n                            }\n                        });\n                    } \n                    //no source applied\n                    else { \n                        API.onVideoError();\n                    }\n                };\n\n                // INIT\n                API.mediaElement = elem.find(attrs.vgType);\n                API.sources = scope.vgSrc;\n\n                API.addListeners();\n                API.onVideoReady();\n\n                scope.$watch(\"vgSrc\", scope.onChangeSource);\n                scope.$watch(\n                    function() {\n                        return API.sources;\n                    },\n                    scope.onChangeSource\n                );\n\n                scope.$watch(\n                    function() {\n                        return API.playsInline;\n                    },\n                    function (newValue, oldValue) {\n                        if (newValue) {\n                            API.mediaElement.attr(\"webkit-playsinline\", \"\");\n                            API.mediaElement.attr(\"playsinline\", \"\");\n                        } else {\n                            API.mediaElement.removeAttr(\"webkit-playsinline\");\n                            API.mediaElement.removeAttr(\"playsinline\");\n                        }\n                    }\n                );\n\n                if (API.isConfig) {\n                    scope.$watch(\n                        function () {\n                            return API.config;\n                        },\n                        function () {\n                            if (API.config) {\n                                scope.vgSrc = API.config.sources;\n                            }\n                        }\n                    );\n                }\n\n                function applySourceToMediaElement(source) {\n                    API.mediaElement.attr({\n                        src: source.src,\n                        type: source.type\n                    });\n\n                    //Trigger vgChangeSource($source) API callback in vgController\n                    API.changeSource(source);\n                }\n\n                function isNativePlayBlacklisted(source) {\n                    var userAgent = $window.navigator.userAgent;\n\n                    if (!source || !angular.isArray(scope.vgNativePlayBlacklist)) {\n                        return false;\n                    }\n\n                    return scope.vgNativePlayBlacklist.reduce(function(accumulator, currentNativeBlacklistFunc) {\n                        return accumulator || \n                            (angular.isFunction(currentNativeBlacklistFunc) && currentNativeBlacklistFunc(source, userAgent));\n                    }, false);\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.directive:vgNativeControls\n * @restrict A\n * @description\n * Optional directive for `vg-media` to add or remove the native controls. Possible values are: \"true\" and \"false\"\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"vgNativeControls\",\n    [function () {\n        return {\n            restrict: \"A\",\n            require: \"^videogular\",\n            link: {\n                pre: function (scope, elem, attr, API) {\n                    var controls;\n\n                    scope.setControls = function setControls(value) {\n                        if (value) {\n                            API.mediaElement.attr(\"controls\", value);\n                        }\n                        else {\n                            API.mediaElement.removeAttr(\"controls\");\n                        }\n                    };\n\n                    if (API.isConfig) {\n                        scope.$watch(\n                            function () {\n                                return API.config;\n                            },\n                            function () {\n                                if (API.config) {\n                                    scope.setControls(API.config.controls);\n                                }\n                            }\n                        );\n                    }\n                    else {\n                        scope.$watch(attr.vgNativeControls, function (newValue, oldValue) {\n                            if ((!controls || newValue != oldValue) && newValue) {\n                                controls = newValue;\n                                scope.setControls(controls);\n                            }\n                            else {\n                                scope.setControls();\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.directive:vgPreload\n * @restrict A\n * @description\n * Optional directive for `vg-media` to preload media files. Possible values are: \"auto\", \"none\" and \"preload\"\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"vgPreload\",\n    [function () {\n        return {\n            restrict: \"A\",\n            require: \"^videogular\",\n            link: {\n                pre: function (scope, elem, attr, API) {\n                    var preload;\n\n                    scope.setPreload = function setPreload(value) {\n                        if (value) {\n                            API.mediaElement.attr(\"preload\", value);\n                        }\n                        else {\n                            API.mediaElement.removeAttr(\"preload\");\n                        }\n                    };\n\n                    if (API.isConfig) {\n                        scope.$watch(\n                            function () {\n                                return API.config;\n                            },\n                            function () {\n                                if (API.config) {\n                                    scope.setPreload(API.config.preload);\n                                }\n                            }\n                        );\n                    }\n                    else {\n                        scope.$watch(attr.vgPreload, function (newValue, oldValue) {\n                            if ((!preload || newValue != oldValue) && newValue) {\n                                preload = newValue;\n                                scope.setPreload(preload);\n                            }\n                            else {\n                                scope.setPreload();\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.directive:vgTracks\n * @restrict A\n * @description\n * Optional directive for `vg-media` to add a list of tracks.\n *\n * vgTracks Bindable array with a list of subtitles sources. A track source is an object with five properties: src, kind, srclang, label and default.\n * <pre>\n * {\n *    src: \"assets/subs/pale-blue-dot.vtt\",\n *    kind: \"subtitles\",\n *    srclang: \"en\",\n *    label: \"English\",\n *    default: \"true/false\"\n * }\n * </pre>\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"vgTracks\",\n    [function () {\n        return {\n            restrict: \"A\",\n            require: \"^videogular\",\n            link: {\n                pre: function (scope, elem, attr, API) {\n                    var isMetaDataLoaded = false;\n                    var tracks;\n                    var i;\n                    var l;\n\n                    scope.onLoadMetaData = function() {\n                        isMetaDataLoaded = true;\n                        scope.updateTracks();\n                    };\n\n                    scope.updateTracks = function() {\n                        // Remove previous tracks\n                        var oldTracks = API.mediaElement.children();\n\n                        for (i = 0, l = oldTracks.length; i < l; i++) {\n                            if (oldTracks[i].remove) {\n                                oldTracks[i].remove();\n                            }\n                        }\n\n                        // Add new tracks\n                        if (tracks) {\n                            for (i = 0, l = tracks.length; i < l; i++) {\n                                var track = document.createElement('track');\n                                for (var prop in tracks[i]) {\n                                    track[prop] = tracks[i][prop];\n                                }\n\n                                track.addEventListener('load', scope.onLoadTrack.bind(scope, track));\n\n                                API.mediaElement[0].appendChild(track);\n                            }\n                        }\n                    };\n\n                    scope.onLoadTrack = function(track) {\n                        if (track.default) track.mode = 'showing';\n                        else track.mode = 'hidden';\n\n                        for (var i=0, l=API.mediaElement[0].textTracks.length; i<l; i++) {\n                            if (track.label == API.mediaElement[0].textTracks[i].label) {\n                                if (track.default) {\n                                    API.mediaElement[0].textTracks[i].mode = 'showing';\n                                }\n                                else {\n                                    API.mediaElement[0].textTracks[i].mode = 'disabled';\n                                }\n                            }\n\n                        }\n\n                        track.removeEventListener('load', scope.onLoadTrack.bind(scope, track));\n                    };\n\n                    scope.setTracks = function setTracks(value) {\n                        // Add tracks to the API to have it available for other plugins (like controls)\n                        tracks = value;\n                        API.tracks = value;\n\n                        if (isMetaDataLoaded) {\n                            scope.updateTracks();\n                        }\n                        else {\n                            API.mediaElement[0].addEventListener(\"loadedmetadata\", scope.onLoadMetaData.bind(scope), false);\n                        }\n                    };\n\n                    if (API.isConfig) {\n                        scope.$watch(\n                            function () {\n                                return API.config;\n                            },\n                            function () {\n                                if (API.config) {\n                                    scope.setTracks(API.config.tracks);\n                                }\n                            }\n                        );\n                    }\n                    else {\n                        scope.$watch(attr.vgTracks, function (newValue, oldValue) {\n                            if ((!tracks || newValue != oldValue)) {\n                                scope.setTracks(newValue);\n                            }\n                        }, true);\n                    }\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.directive:videogular\n * @restrict E\n * @description\n * Main directive that must wrap a &lt;vg-media&gt; tag and all plugins.\n *\n * &lt;video&gt; tag usually will be above plugin tags, that's because plugins should be in a layer over the &lt;video&gt;.\n *\n * @param {string} vgTheme String with a scope name variable. This directive will inject a CSS link in the header of your page.\n * **This parameter is required.**\n *\n * @param {boolean} [vgPlaysInline=false] vgPlaysInline Boolean value or a String with a scope name variable to use native fullscreen (default) or set fullscreen inside browser (true).\n *\n * @param {boolean} [vgClearMediaOnNavigate=true] vgClearMediaOnNavigate Boolean value or a String with a scope name variable to reset the video player when user navigates.\n *\n * This is useful to allow continuous playback between different routes.\n *\n * @param {boolean} [vgAutoPlay=false] vgAutoPlay Boolean value or a String with a scope name variable to auto start playing video when it is initialized.\n *\n * **This parameter is disabled in mobile devices** because user must click on content to prevent consuming mobile data plans.\n *\n * @param {boolean} [vgStartTime=-1] vgStartTime Number value or a String with a scope name variable to start playing the video at a certain time.\n *\n * @param {boolean} [vgVirtualClipDuration=-1] vgVirtualClipDuration Number value or a String with a scope name variable for a length to limit the video playback to.\n *\n * @param {object} vgCuePoints Bindable object containing a list of timelines with cue points objects. A timeline is an array of objects with the following properties:\n * - `timeLapse` is an object with two properties `start` and `end` representing in seconds the period for this cue points.\n * - `onEnter` callback called when user enters on a cue point. callback(currentTime, timeLapse, params)\n * - `onLeave` callback called when user seeks backwards and leave the current cue point or a completed cue point. callback(currentTime, timeLapse, params)\n * - `onUpdate` callback called when the current time is between timeLapse.start and timeLapse.end. callback(currentTime, timeLapse, params)\n * - `onComplete` callback called when the user seek forward or the current time passes timeLapse.end property. callback(currentTime, timeLapse, params)\n * - `params` an object with values available to receive in the callback..\n *\n * @param {function} vgConfig String with a url to a config file. Config file's must be a JSON file object with the following structure:\n * <pre>\n {\n   \"controls\": false,\n   \"loop\": false,\n   \"autoplay\": false,\n   \"startTime\": -1,\n   \"virtualClipDuration\": -1,\n   \"preload\": \"auto\",\n   \"theme\": \"path/to/videogular.css\",\n   \"sources\": [\n     {\n       \"src\": \"path/to/videogular.mp4\",\n       \"type\": \"video/mp4\"\n     },\n     {\n       \"src\": \"path/to/videogular.webm\",\n       \"type\": \"video/webm\"\n     },\n     {\n       \"src\": \"path/to/videogular.ogg\",\n       \"type\": \"video/ogg\"\n     }\n   ],\n   \"tracks\": [\n     {\n       \"src\": \"path/to/pale-blue-dot.vtt\",\n       \"kind\": \"subtitles\",\n       \"srclang\": \"en\",\n       \"label\": \"English\",\n       \"default\": \"\"\n     }\n   ],\n   \"plugins\": {\n     \"controls\": {\n       \"autohide\": true,\n       \"autohideTime\": 3000\n     },\n     \"poster\": {\n       \"url\": \"path/to/earth.png\"\n     },\n     \"ima-ads\": {\n       \"companion\": \"companionAd\",\n       \"companionSize\": [728, 90],\n       \"network\": \"6062\",\n       \"unitPath\": \"iab_vast_samples\",\n       \"adTagUrl\": \"http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F3510761%2FadRulesSampleTags&ciu_szs=160x600%2C300x250%2C728x90&cust_params=adrule%3Dpremidpostpodandbumpers&impl=s&gdfp_req=1&env=vp&ad_rule=1&vid=47570401&cmsid=481&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]\",\n       \"skipButton\": \"<div class='skipButton'>skip ad</div>\"\n     },\n     \"analytics\": {\n       \"category\": \"Videogular\",\n       \"label\": \"Main\",\n       \"events\": {\n         \"ready\": true,\n         \"play\": true,\n         \"pause\": true,\n         \"stop\": true,\n         \"complete\": true,\n         \"progress\": 10\n       }\n     }\n   }\n }\n * </pre>\n * @param {function} vgCanPlay Function name in controller's scope to call when video is able to begin playback\n * @param {function} vgComplete Function name in controller's scope to call when video have been completed.\n * @param {function} vgUpdateVolume Function name in controller's scope to call when volume changes. Receives a param with the new volume.\n * @param {function} vgUpdatePlayback Function name in controller's scope to call when playback changes. Receives a param with the new playback rate.\n * @param {function} vgUpdateTime Function name in controller's scope to call when video playback time is updated. Receives two params with current time and duration in milliseconds.\n * @param {function} vgUpdateState Function name in controller's scope to call when video state changes. Receives a param with the new state. Possible values are \"play\", \"stop\" or \"pause\".\n * @param {function} vgPlayerReady Function name in controller's scope to call when video have been initialized. Receives a param with the videogular API.\n * @param {function} vgChangeSource Function name in controller's scope to change current video source. Receives a param with the new video.\n * @param {function} vgPlaysInline Boolean to play video inline. Generally used in mobile devices.\n * @param {function} vgNativeFullscreen Boolean to disable native fullscreen.\n * @param {function} vgSeeking Function name in controller's scope to call when the video has finished jumping to a new time. Receives a param with the seeked time and duration in seconds.\n * @param {function} vgSeeked Function name in controller's scope to call when the video is jumping to a new time. Receives two params with the seeked time and duration in seconds.\n * @param {function} vgError Function name in controller's scope to receive an error from video object. Receives a param with the error event.\n * This is a free parameter and it could be values like \"new.mp4\", \"320\" or \"sd\". This will allow you to use this to change a video or video quality.\n * This callback will not change the video, you should do that by updating your sources scope variable.\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .directive(\"videogular\",\n    [function () {\n        return {\n            restrict: \"EA\",\n            scope: {\n                vgTheme: \"=?\",\n                vgAutoPlay: \"=?\",\n                vgStartTime: \"=?\",\n                vgVirtualClipDuration: \"=?\",\n                vgPlaysInline: \"=?\",\n                vgNativeFullscreen: \"=?\",\n                vgClearMediaOnNavigate: \"=?\",\n                vgCuePoints: \"=?\",\n                vgConfig: \"@\",\n                vgCanPlay: \"&\",\n                vgComplete: \"&\",\n                vgUpdateVolume: \"&\",\n                vgUpdatePlayback: \"&\",\n                vgUpdateTime: \"&\",\n                vgUpdateState: \"&\",\n                vgPlayerReady: \"&\",\n                vgChangeSource: \"&\",\n                vgSeeking: \"&\",\n                vgSeeked: \"&\",\n                vgError: \"&\"\n            },\n            controller: \"vgController\",\n            controllerAs: \"API\",\n            link: {\n                pre: function (scope, elem, attr, controller) {\n                    controller.videogularElement = angular.element(elem);\n                }\n            }\n        }\n    }\n    ]);\n\n/**\n * @ngdoc service\n * @name com.2fdevs.videogular.service:vgConfigLoader\n *\n * @description\n * Config loader service:\n *\n * vgConfigLoader.loadConfig(url): Param `url` is a url to a config JSON.\n **/\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .service(\"vgConfigLoader\", [\"$http\", \"$q\", \"$sce\", function ($http, $q, $sce) {\n        this.loadConfig = function loadConfig(url) {\n            var deferred = $q.defer();\n\n            $http({method: 'GET', url: url}).then(\n                function success(response) {\n                    var result = response.data;\n\n                    for (var i = 0, l = result.sources.length; i < l; i++) {\n                        result.sources[i].src = $sce.trustAsResourceUrl(result.sources[i].src);\n                    }\n\n                    deferred.resolve(result);\n                },\n                function reject() {\n                    deferred.reject();\n                }\n            );\n\n            return deferred.promise;\n        };\n    }]);\n\n/**\n * @ngdoc service\n * @name com.2fdevs.videogular.service:vgFullscreen\n *\n * @description\n * Native fullscreen polyfill service.\n *\n *    * vgFullscreen.onchange: String with the onchange event name.\n *    * vgFullscreen.onerror: String with the onerror event name.\n *    * vgFullscreen.isAvailable: Boolean with fullscreen availability.\n *    * vgFullscreen.isFullScreen: Boolean with current view mode.\n *    * vgFullscreen.exit: Exit fullscreen function.\n *    * vgFullscreen.request: Request for fullscreen access function.\n **/\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .service(\"vgFullscreen\", [\"VG_UTILS\", function (VG_UTILS) {\n        // Native fullscreen polyfill\n        var element;\n        var polyfill = null;\n        var APIs = {\n            w3: {\n                enabled: \"fullscreenEnabled\",\n                element: \"fullscreenElement\",\n                request: \"requestFullscreen\",\n                exit: \"exitFullscreen\",\n                onchange: \"fullscreenchange\",\n                onerror: \"fullscreenerror\"\n            },\n            newWebkit: {\n                enabled: \"webkitFullscreenEnabled\",\n                element: \"webkitFullscreenElement\",\n                request: \"webkitRequestFullscreen\",\n                exit: \"webkitExitFullscreen\",\n                onchange: \"webkitfullscreenchange\",\n                onerror: \"webkitfullscreenerror\"\n            },\n            oldWebkit: {\n                enabled: \"webkitIsFullScreen\",\n                element: \"webkitCurrentFullScreenElement\",\n                request: \"webkitRequestFullScreen\",\n                exit: \"webkitCancelFullScreen\",\n                onchange: \"webkitfullscreenchange\",\n                onerror: \"webkitfullscreenerror\"\n            },\n            moz: {\n                enabled: \"mozFullScreen\",\n                element: \"mozFullScreenElement\",\n                request: \"mozRequestFullScreen\",\n                exit: \"mozCancelFullScreen\",\n                onchange: \"mozfullscreenchange\",\n                onerror: \"mozfullscreenerror\"\n            },\n            ios: {\n                enabled: \"webkitFullscreenEnabled\",\n                element: \"webkitFullscreenElement\",\n                request: \"webkitEnterFullscreen\",\n                exit: \"webkitExitFullscreen\",\n                onchange: \"webkitfullscreenchange\",\n                onerror: \"webkitfullscreenerror\"\n            },\n            ms: {\n                enabled: \"msFullscreenEnabled\",\n                element: \"msFullscreenElement\",\n                request: \"msRequestFullscreen\",\n                exit: \"msExitFullscreen\",\n                onchange: \"MSFullscreenChange\",\n                onerror: \"MSFullscreenError\"\n            }\n        };\n\n        for (var browser in APIs) {\n            if (APIs[browser].enabled in document) {\n                polyfill = APIs[browser];\n                break;\n            }\n        }\n\n        // Override APIs on iOS\n        if (VG_UTILS.isiOSDevice()) {\n            polyfill = APIs.ios;\n        }\n\n        function isFullScreen() {\n            var result = false;\n\n            if (element) {\n                result = (document[polyfill.element] != null || element.webkitDisplayingFullscreen)\n            }\n            else {\n                result = (document[polyfill.element] != null)\n            }\n\n            return result;\n        }\n\n        this.isAvailable = (polyfill != null);\n\n        if (polyfill) {\n            this.onchange = polyfill.onchange;\n            this.onerror = polyfill.onerror;\n            this.isFullScreen = isFullScreen;\n            this.exit = function () {\n                document[polyfill.exit]();\n            };\n            this.request = function (elem) {\n                element = elem;\n                element[polyfill.request]();\n            };\n        }\n    }]);\n\n\"use strict\";\nangular.module(\"com.2fdevs.videogular\")\n    .service(\"VG_UTILS\", [\"$window\", function ($window) {\n        this.fixEventOffset = function ($event) {\n            /**\n             * There's no offsetX in Firefox, so we fix that.\n             * Solution provided by Jack Moore in this post:\n             * http://www.jacklmoore.com/notes/mouse-position/\n             * @param $event\n             * @returns {*}\n             */\n            var matchedFF = navigator.userAgent.match(/Firefox\\/(\\d+)/i)\n            if (matchedFF && Number.parseInt(matchedFF.pop()) < 39) {\n                var style = $event.currentTarget.currentStyle || window.getComputedStyle($event.target, null);\n                var borderLeftWidth = parseInt(style['borderLeftWidth'], 10);\n                var borderTopWidth = parseInt(style['borderTopWidth'], 10);\n                var rect = $event.currentTarget.getBoundingClientRect();\n                var offsetX = $event.clientX - borderLeftWidth - rect.left;\n                var offsetY = $event.clientY - borderTopWidth - rect.top;\n\n                $event.offsetX = offsetX;\n                $event.offsetY = offsetY;\n            }\n\n            return $event;\n        };\n\n        /**\n         * Inspired by Paul Irish\n         * https://gist.github.com/paulirish/211209\n         * @returns {number}\n         */\n        this.getZIndex = function () {\n            var zIndex = 1;\n            var elementZIndex;\n\n            var tags = document.getElementsByTagName('*');\n\n            for (var i = 0, l = tags.length; i < l; i++) {\n                elementZIndex = parseInt(window.getComputedStyle(tags[i])[\"z-index\"]);\n\n                if (elementZIndex > zIndex) {\n                    zIndex = elementZIndex + 1;\n                }\n            }\n\n            return zIndex;\n        };\n\n        // Very simple mobile detection, not 100% reliable\n        this.isMobileDevice = function () {\n            return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf(\"IEMobile\") !== -1);\n        };\n\n        this.isiOSDevice = function () {\n            return (navigator.userAgent.match(/ip(hone|ad|od)/i) && !navigator.userAgent.match(/(iemobile)[\\/\\s]?([\\w\\.]*)/i));\n        };\n\n        this.isCordova = function () {\n            return document.URL.indexOf('http://') === -1 && document.URL.indexOf('https://') === -1;\n        };\n\n        /**\n         * Test the browser's support for HTML5 localStorage.\n         * @returns {boolean}\n         */\n        this.supportsLocalStorage = function () {\n            var testKey = 'videogular-test-key';\n\n            try {\n                var storage = $window.sessionStorage;\n                storage.setItem(testKey, '1');\n                storage.removeItem(testKey);\n                return 'localStorage' in $window && $window['localStorage'] !== null;\n            } catch (e) {\n                return false;\n            }\n        };\n    }]);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/videogular/dist/videogular/videogular.js\n// module id = 11\n// module chunks = 0","/**\n * @license videogular v1.4.4 http://videogular.com\n * Two Fucking Developers http://twofuckingdevelopers.com\n * License: MIT\n */\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgControls\n * @restrict E\n * @description\n * This directive acts as a container and you will need other directives to control the media.\n * Inside this directive you can add other directives like vg-play-pause-button and vg-scrub-bar.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'></vg-controls>\n * </videogular>\n * </pre>\n *\n * @param {boolean=false} vgAutohide Boolean variable or value to activate autohide.\n * @param {number=2000} vgAutohideTime Number variable or value that represents the time in milliseconds that will wait vgControls until it hides.\n *\n *\n */\n\"use strict\";\nangular.module(\"com.2fdevs.videogular.plugins.controls\", [])\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-controls\",\n            '<div class=\"controls-container\" ng-mousemove=\"onMouseMove()\" ng-class=\"animationClass\" ng-transclude></div>');\n    }]\n)\n    .directive(\"vgControls\",\n    [\"$timeout\", \"VG_STATES\", function ($timeout, VG_STATES) {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            transclude: true,\n            templateUrl: function (elem, attrs) {\n                return attrs.vgTemplate || 'vg-templates/vg-controls';\n            },\n            scope: {\n                vgAutohide: \"=?\",\n                vgAutohideTime: \"=?\"\n            },\n            link: function (scope, elem, attr, API) {\n                var w = 0;\n                var h = 0;\n                var autoHideTime = 2000;\n                var hideInterval;\n\n                scope.API = API;\n\n                scope.onMouseMove = function onMouseMove() {\n                    if (scope.vgAutohide) scope.showControls();\n                };\n\n                scope.setAutohide = function setAutohide(value) {\n                    if (value && API.currentState == VG_STATES.PLAY) {\n                        hideInterval = $timeout(scope.hideControls, autoHideTime);\n                    }\n                    else {\n                        scope.animationClass = \"\";\n                        $timeout.cancel(hideInterval);\n                        scope.showControls();\n                    }\n                };\n\n                scope.setAutohideTime = function setAutohideTime(value) {\n                    autoHideTime = value;\n                };\n\n                scope.hideControls = function hideControls() {\n                    scope.animationClass = \"hide-animation\";\n                };\n\n                scope.showControls = function showControls() {\n                    scope.animationClass = \"show-animation\";\n                    $timeout.cancel(hideInterval);\n                    if (scope.vgAutohide && API.currentState == VG_STATES.PLAY) hideInterval = $timeout(scope.hideControls, autoHideTime);\n                };\n\n                if (API.isConfig) {\n                    scope.$watch(\"API.config\",\n                        function () {\n                            if (scope.API.config) {\n                                var ahValue = scope.API.config.plugins.controls.autohide || false;\n                                var ahtValue = scope.API.config.plugins.controls.autohideTime || 2000;\n                                scope.vgAutohide = ahValue;\n                                scope.vgAutohideTime = ahtValue;\n                                scope.setAutohideTime(ahtValue);\n                                scope.setAutohide(ahValue);\n                            }\n                        }\n                    );\n                }\n                else {\n                    // If vg-autohide has been set\n                    if (scope.vgAutohide != undefined) {\n                        scope.$watch(\"vgAutohide\", scope.setAutohide);\n                    }\n\n                    // If vg-autohide-time has been set\n                    if (scope.vgAutohideTime != undefined) {\n                        scope.$watch(\"vgAutohideTime\", scope.setAutohideTime);\n                    }\n                }\n\n                scope.$watch(\n                    function () {\n                        return API.currentState;\n                    },\n                    function (newVal, oldVal) {\n                        if (scope.vgAutohide) scope.showControls();\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgFullscreenButton\n * @restrict E\n * @description\n * Directive to switch between fullscreen and normal mode.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-fullscreen-button></vg-fullscreen-button>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-fullscreen-button\",\n            '<button class=\"iconButton\" ng-click=\"onClickFullScreen()\" ng-class=\"fullscreenIcon\" aria-label=\"Toggle full screen\" type=\"button\"> </button>');\n    }]\n)\n    .directive(\"vgFullscreenButton\",\n    [function () {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            scope: {},\n            templateUrl: function (elem, attrs) {\n                return attrs.vgTemplate || 'vg-templates/vg-fullscreen-button';\n            },\n            link: function (scope, elem, attr, API) {\n                scope.onChangeFullScreen = function onChangeFullScreen(isFullScreen) {\n                    scope.fullscreenIcon = {enter: !isFullScreen, exit: isFullScreen};\n                };\n\n                scope.onClickFullScreen = function onClickFullScreen() {\n                    API.toggleFullScreen();\n                };\n\n                scope.fullscreenIcon = {enter: true};\n\n                scope.$watch(\n                    function () {\n                        return API.isFullScreen;\n                    },\n                    function (newVal, oldVal) {\n                        if (newVal != oldVal) {\n                            scope.onChangeFullScreen(newVal);\n                        }\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgPlayPauseButton\n * @restrict E\n * @description\n * Adds a button inside vg-controls to play and pause media.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-play-pause-button></vg-play-pause-button>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-play-pause-button\",\n            '<button class=\"iconButton\" ng-click=\"onClickPlayPause()\" ng-class=\"playPauseIcon\" aria-label=\"Play/Pause\" type=\"button\"></button>');\n    }]\n)\n    .directive(\"vgPlayPauseButton\",\n    [\"VG_STATES\", function (VG_STATES) {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            scope: {},\n            templateUrl: function (elem, attrs) {\n                return attrs.vgTemplate || 'vg-templates/vg-play-pause-button';\n            },\n            link: function (scope, elem, attr, API) {\n                scope.setState = function setState(newState) {\n                    switch (newState) {\n                        case VG_STATES.PLAY:\n                            scope.playPauseIcon = {pause: true};\n                            break;\n\n                        case VG_STATES.PAUSE:\n                            scope.playPauseIcon = {play: true};\n                            break;\n\n                        case VG_STATES.STOP:\n                            scope.playPauseIcon = {play: true};\n                            break;\n                    }\n                };\n\n                scope.onClickPlayPause = function onClickPlayPause() {\n                    API.playPause();\n                };\n\n                scope.playPauseIcon = {play: true};\n\n                scope.$watch(\n                    function () {\n                        return API.currentState;\n                    },\n                    function (newVal, oldVal) {\n                        scope.setState(newVal);\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgPlaybackButton\n * @restrict E\n * @description\n * Directive to display a playback buttom to control the playback rate.\n *\n * @param {array} vgSpeeds Bindable array with a list of speed options as strings. Default ['0.5', '1', '1.5', '2']\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-playback-button vg-speeds='config.playbackSpeeds'></vg-playback-button>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-playback-button\",\n            '<button class=\"playbackValue iconButton\" ng-click=\"onClickPlayback()\">{{playback}}x</button>');\n    }]\n)\n    .directive(\"vgPlaybackButton\",\n    [function () {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            templateUrl: function (elem, attrs) {\n                return attrs.vgTemplate || 'vg-templates/vg-playback-button';\n            },\n            scope: {\n                vgSpeeds: '=?'\n            },\n            link: function (scope, elem, attr, API) {\n                scope.playback = '1';\n\n                scope.setPlayback = function(playback) {\n                    scope.playback = playback;\n                    API.setPlayback(parseFloat(playback));\n                };\n\n                scope.onClickPlayback = function onClickPlayback() {\n                    var playbackOptions = scope.vgSpeeds || ['0.5', '1', '1.5', '2'];\n                    var nextPlaybackRate = playbackOptions.indexOf(scope.playback.toString()) + 1;\n\n                    if (nextPlaybackRate >= playbackOptions.length) {\n                        scope.playback = playbackOptions[0];\n                    }\n                    else {\n                        scope.playback = playbackOptions[nextPlaybackRate];\n                    }\n\n                    scope.setPlayback(scope.playback);\n                };\n\n                scope.$watch(\n                    function () {\n                        return API.playback;\n                    },\n                    function(newVal, oldVal) {\n                        if (newVal != oldVal) {\n                            scope.setPlayback(newVal);\n                        }\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgScrubBarBuffer\n * @restrict E\n * @description\n * Layer inside vg-scrub-bar to display the buffer.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-scrub-bar>\n *            <vg-scrub-bar-buffer></vg-scrub-bar-buffer>\n *        </vg-scrub-bar>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .directive(\"vgScrubBarBuffer\",\n    [function () {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            link: function (scope, elem, attr, API) {\n                var percentTime = 0;\n\n                scope.onUpdateBuffer = function onUpdateBuffer(newBuffer) {\n                    if (typeof newBuffer === 'number' && API.totalTime) {\n                        percentTime = 100 * (newBuffer / API.totalTime);\n                        elem.css(\"width\", percentTime + \"%\");\n                    } else {\n                        elem.css(\"width\", 0);\n                    }\n                };\n\n                scope.$watch(\n                    function () {\n                        return API.bufferEnd;\n                    },\n                    function (newVal, oldVal) {\n                        scope.onUpdateBuffer(newVal);\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgScrubBarCuePoints\n * @restrict E\n * @description\n * Layer inside vg-scrub-bar to display a cue point timeline.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls>\n *        <vg-scrub-bar>\n *            <vg-scrub-bar-cue-points vg-cue-points='config.cuePoints[0]'></vg-scrub-bar-cue-points>\n *        </vg-scrub-bar>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run([\"$templateCache\",\n        function ($templateCache) {\n            $templateCache.put(\"vg-templates/vg-scrub-bar-cue-points\",\n                '<div class=\"cue-point-timeline\">' +\n                    '<div ng-repeat=\"cuePoint in vgCuePoints\" class=\"cue-point\" ng-style=\"cuePoint.$$style\"></div>' +\n                '</div>');\n        }\n    ])\n    .directive(\"vgScrubBarCuePoints\", [\n        function () {\n            return {\n                restrict: \"E\",\n                require: \"^videogular\",\n                templateUrl: function (elem, attrs) {\n                    return attrs.vgTemplate || 'vg-templates/vg-scrub-bar-cue-points';\n                },\n                scope: {\n                    \"vgCuePoints\": \"=\"\n                },\n                link: function (scope, elem, attr, API) {\n                    scope.onPlayerReady = function onPlayerReady() {\n                        scope.updateCuePoints(scope.vgCuePoints);\n                    };\n                    scope.updateCuePoints = function onUpdateCuePoints(cuePoints) {\n                        var totalWidth;\n\n                        if (cuePoints) {\n                            totalWidth = parseInt(elem[0].clientWidth);\n\n                            for (var i = 0, l = cuePoints.length; i < l; i++) {\n                                var end = (cuePoints[i].timeLapse.end >= 0) ? cuePoints[i].timeLapse.end : cuePoints[i].timeLapse.start + 1;\n                                var cuePointDuration = (end - cuePoints[i].timeLapse.start) * 1000;\n                                var position = (cuePoints[i].timeLapse.start * 100 / (Math.round(API.totalTime / 1000))) + \"%\";\n                                var percentWidth = 0;\n\n                                if (typeof cuePointDuration === 'number' && API.totalTime) {\n                                    percentWidth = ((cuePointDuration * 100) / API.totalTime) + \"%\";\n                                }\n\n                                cuePoints[i].$$style = {\n                                    width: percentWidth,\n                                    left: position\n                                };\n                            }\n                        }\n                    };\n\n                    scope.$watch(\"vgCuePoints\", scope.updateCuePoints);\n\n                    scope.$watch(\n                        function () {\n                            return API.totalTime;\n                        },\n                        function (newVal, oldVal) {\n                            if (newVal > 0) scope.onPlayerReady();\n                        }\n                    );\n                }\n            }\n        }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgScrubBarCurrentTime\n * @restrict E\n * @description\n * Layer inside vg-scrub-bar to display the current time.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-scrub-bar>\n *            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n *        </vg-scrub-bar>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .directive(\"vgScrubBarCurrentTime\",\n    [function () {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            link: function (scope, elem, attr, API) {\n                var percentTime = 0;\n\n                scope.onUpdateTime = function onUpdateTime(newCurrentTime) {\n                    if (typeof newCurrentTime === 'number' && API.totalTime) {\n                        percentTime = 100 * (newCurrentTime / API.totalTime);\n                        elem.css(\"width\", percentTime + \"%\");\n                    } else {\n                        elem.css(\"width\", 0);\n                    }\n                };\n\n                scope.$watch(\n                    function () {\n                        return API.currentTime;\n                    },\n                    function (newVal, oldVal) {\n                        scope.onUpdateTime(newVal);\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgScrubBarThumbnails\n * @restrict E\n * @description\n * Layer inside vg-scrub-bar to display thumbnails.\n *\n * Param thumbnails could be a string url pointing to a strip of thumbnails or an array of objects with the same\n * format that you can find in cue points.\n *\n * **Strip of thumbnails**\n * Must be an image with exactly 100 thumbnails. Recommended size per each thumbnail 107x60\n * Example of param value: \"assets/images/strip-of-thumbnails.jpg\"\n *\n * To create a strip of thumbnails you can use ffmpeg:\n * ffmpeg -loglevel panic -y -i app/assets/videos/videogular.mp4 -frames 1 -q:v 1 -vf\n * \"select=not(mod(n\\,29)),scale=-1:60,tile=100x1\" app/assets/thumbnails/thumbnail.jpg\n *\n * **List of thumbnails**\n * Array with a list of cue points as images. You can specify start or a lapse with start and end.\n * Example of param value:\n *\n * [\n *     {\n *         \"timeLapse\": {\n *             \"start\": 5\n *         },\n *         params: {\n *             \"thumbnail\": \"assets/thumbnails/thumbnail-shown-at-second-5.jpg\"\n *         }\n *     },\n *     {\n *         \"timeLapse\": {\n *             \"start\": 49,\n *             \"end\": 60\n *         },\n *         \"params\": {\n *             \"thumbnail\": \"assets/thumbnails/thumbnail-shown-between-seconds-49-and-60.jpg\"\n *         }\n *     }\n * ]\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls>\n *        <vg-scrub-bar>\n *            <vg-scrub-bar-thumbnails vg-thumbnails='config.thumbnails'></vg-scrub-bar-thumbnails>\n *        </vg-scrub-bar>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run([\"$templateCache\",\n        function ($templateCache) {\n            $templateCache.put(\"vg-templates/vg-scrub-bar-thumbnails\",\n                '<div class=\"vg-thumbnails\" ng-show=\"thumbnails\" ng-style=\"thumbnailContainer\">' +\n                    '<div class=\"image-thumbnail\" ng-style=\"thumbnails\"></div>' +\n                '</div>' +\n                '<div class=\"background\"></div>'\n            );\n        }\n    ])\n    .directive(\"vgScrubBarThumbnails\", [\"VG_UTILS\",\n        function (VG_UTILS) {\n            return {\n                restrict: \"E\",\n                require: \"^videogular\",\n                templateUrl: function (elem, attrs) {\n                    return attrs.vgTemplate || 'vg-templates/vg-scrub-bar-thumbnails';\n                },\n                scope: {\n                    \"vgThumbnails\": \"=\"\n                },\n                link: function (scope, elem, attr, API) {\n                    var thumbnailsWidth = 0;\n                    var thumbWidth = 0;\n                    var slider = elem[0].querySelector(\".background\");\n                    var isStrip = (typeof scope.vgThumbnails === \"string\");\n\n                    scope.thumbnails = false;\n                    scope.thumbnailContainer = {};\n\n                    scope.getOffset = function getOffset(event) {\n                        var el = event.target,\n                            x = 0;\n\n                        while (el && !isNaN(el.offsetLeft)) {\n                            x += el.offsetLeft - el.scrollLeft;\n                            el = el.offsetParent;\n                        }\n\n                        return event.clientX - x;\n                    };\n\n                    scope.onLoadThumbnails = function(event) {\n                        thumbnailsWidth = event.currentTarget.naturalWidth;\n                        thumbWidth = thumbnailsWidth / 100;\n                    };\n\n                    scope.onLoadThumbnail = function(event) {\n                        thumbWidth = event.currentTarget.naturalWidth;\n                    };\n\n                    scope.updateThumbnails = function(second) {\n                        var percentage = Math.round(second * 100 / (API.totalTime / 1000));\n                        var thPos = (slider.scrollWidth * percentage / 100) - (thumbWidth / 2);\n\n                        if (isStrip) {\n                            var bgPos = Math.round(thumbnailsWidth * percentage / 100);\n\n                            scope.thumbnailContainer = {\n                                \"width\": thumbWidth + \"px\",\n                                \"left\": thPos + \"px\"\n                            };\n\n                            scope.thumbnails = {\n                                \"background-image\": 'url(\"' + scope.vgThumbnails + '\")',\n                                \"background-position\": -bgPos + \"px 0px\"\n                            };\n                        }\n                        else {\n                            var secondsByPixel = API.totalTime / slider.scrollWidth / 1000;\n                            var lapse = {\n                                start: Math.floor(second - (secondsByPixel / 2)),\n                                end: Math.ceil(second)\n                            };\n\n                            if (lapse.start < 0) lapse.start = 0;\n                            if (lapse.end > API.totalTime) lapse.end = API.totalTime;\n\n                            scope.thumbnailContainer = {\n                                \"left\": thPos + \"px\"\n                            };\n\n                            scope.thumbnails = {\n                                \"background-image\": 'none'\n                            };\n                            \n                            if (scope.vgThumbnails) {\n                                for (var i=0, l=scope.vgThumbnails.length; i<l; i++) {\n                                    var th = scope.vgThumbnails[i];\n\n                                    if (th.timeLapse.end >= 0) {\n                                        if (lapse.start >= th.timeLapse.start && (lapse.end <= th.timeLapse.end || lapse.end <= th.timeLapse.start)) {\n                                            scope.thumbnails = {\n                                                \"background-image\": 'url(\"' + th.params.thumbnail + '\")'\n                                            };\n                                            break;\n                                        }\n                                    }\n                                    else {\n                                        if (th.timeLapse.start >= lapse.start && th.timeLapse.start <= lapse.end) {\n                                            scope.thumbnails = {\n                                                \"background-image\": 'url(\"' + th.params.thumbnail + '\")'\n                                            };\n                                            break;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    };\n\n                    scope.onMouseMove = function($event) {\n                        var second = Math.round($event.offsetX * API.mediaElement[0].duration / slider.scrollWidth);\n\n                        scope.updateThumbnails(second);\n\n                        scope.$digest();\n                    };\n\n                    scope.onTouchMove = function($event) {\n                        var touches = $event.touches;\n                        var touchX = scope.getOffset(touches[0]);\n                        var second = Math.round(touchX * API.mediaElement[0].duration / slider.scrollWidth);\n\n                        scope.updateThumbnails(second);\n\n                        scope.$digest();\n                    };\n\n                    scope.onMouseLeave = function(event) {\n                        scope.thumbnails = false;\n\n                        scope.$digest();\n                    };\n\n                    scope.onTouchLeave = function(event) {\n                        scope.thumbnails = false;\n\n                        scope.$digest();\n                    };\n\n                    scope.onDestroy = function() {\n                        elem.unbind(\"touchmove\", scope.onTouchMove);\n                        elem.unbind(\"touchleave\", scope.onTouchLeave);\n                        elem.unbind(\"touchend\", scope.onTouchLeave);\n                        elem.unbind(\"mousemove\", scope.onMouseMove);\n                        elem.unbind(\"mouseleave\", scope.onMouseLeave);\n                    };\n\n                    var thLoader;\n                    if (isStrip) {\n                        thLoader = new Image();\n                        thLoader.onload = scope.onLoadThumbnails.bind(scope);\n                        thLoader.src = scope.vgThumbnails;\n                    }\n                    else {\n                        thLoader = new Image();\n                        thLoader.onload = scope.onLoadThumbnail.bind(scope);\n                        thLoader.src = scope.vgThumbnails[0].params.thumbnail;\n                    }\n\n                    // Touch move is really buggy in Chrome for Android, maybe we could use mouse move that works ok\n                    if (VG_UTILS.isMobileDevice()) {\n                        elem.bind(\"touchmove\", scope.onTouchMove);\n                        elem.bind(\"touchleave\", scope.onTouchLeave);\n                        elem.bind(\"touchend\", scope.onTouchLeave);\n                    }\n                    else {\n                        elem.bind(\"mousemove\", scope.onMouseMove);\n                        elem.bind(\"mouseleave\", scope.onMouseLeave);\n                    }\n\n                    scope.$on('destroy', scope.onDestroy.bind(scope));\n                }\n            }\n        }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgScrubBar\n * @restrict E\n * @description\n * Directive to control the time and display other information layers about the progress of the media.\n * This directive acts as a container and you can add more layers to display current time, cuepoints, buffer or whatever you need.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-scrub-bar></vg-scrub-bar>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run([\"$templateCache\",\n        function ($templateCache) {\n            $templateCache.put(\"vg-templates/vg-scrub-bar\",\n                '<div role=\"slider\" ' +\n                      'aria-valuemax=\"{{ariaTime(API.totalTime)}}\" ' +\n                      'aria-valuenow=\"{{ariaTime(API.currentTime)}}\" ' +\n                      'aria-valuemin=\"0\" ' +\n                      'aria-label=\"Time scrub bar\" ' +\n                      'tabindex=\"0\" ' +\n                      'ng-keydown=\"onScrubBarKeyDown($event)\">' +\n                '</div>' +\n                '<div class=\"container\" ng-transclude></div>'\n            );\n        }]\n    )\n    .directive(\"vgScrubBar\", [\"VG_STATES\", \"VG_UTILS\",\n        function (VG_STATES, VG_UTILS) {\n            return {\n                restrict: \"E\",\n                require: \"^videogular\",\n                transclude: true,\n                templateUrl: function (elem, attrs) {\n                    return attrs.vgTemplate || 'vg-templates/vg-scrub-bar';\n                },\n                scope: {\n                    vgThumbnails: \"=\"\n                },\n                link: function (scope, elem, attr, API) {\n                    var isSeeking = false;\n                    var isPlaying = false;\n                    var isPlayingWhenSeeking = false;\n                    var LEFT = 37;\n                    var RIGHT = 39;\n                    var NUM_PERCENT = 5;\n                    var thumbnailsWidth = 0;\n                    var thumbWidth = 0;\n                    var slider = elem[0].querySelector(\"div[role=slider]\");\n\n                    scope.thumbnails = false;\n                    scope.thumbnailContainer = {};\n\n                    scope.API = API;\n\n                    scope.onLoadThumbnails = function(event) {\n                        thumbnailsWidth = event.path[0].naturalWidth;\n                        thumbWidth = thumbnailsWidth / 100;\n                    };\n\n                    scope.ariaTime = function (time) {\n                        return Math.round(time / 1000);\n                    };\n\n                    scope.getOffset = function getOffset(event) {\n                        var el = event.target,\n                        x = 0;\n\n                        while (el && !isNaN(el.offsetLeft)) {\n                            x += el.offsetLeft - el.scrollLeft;\n                            el = el.offsetParent;\n                        }\n\n                        return event.clientX - x;\n                    };\n\n                    scope.onScrubBarTouchStart = function onScrubBarTouchStart($event) {\n                        var event = $event.originalEvent || $event;\n                        var touches = event.touches;\n                        var touchX = scope.getOffset(touches[0]);\n\n                        isSeeking = true;\n                        if (isPlaying) isPlayingWhenSeeking = true;\n                        API.pause();\n                        API.seekTime(touchX * API.mediaElement[0].duration / slider.scrollWidth);\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarTouchEnd = function onScrubBarTouchEnd($event) {\n                        var event = $event.originalEvent || $event;\n                        if (isPlayingWhenSeeking) {\n                            isPlayingWhenSeeking = false;\n                            API.play();\n                        }\n                        isSeeking = false;\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarTouchMove = function onScrubBarTouchMove($event) {\n                        var event = $event.originalEvent || $event;\n                        var touches = event.touches;\n                        var touchX = scope.getOffset(touches[0]);\n\n                        if (scope.vgThumbnails && scope.vgThumbnails.length) {\n                            var second = Math.round(touchX * API.mediaElement[0].duration / slider.scrollWidth);\n                            var percentage = Math.round(second * 100 / (API.totalTime / 1000));\n\n                            scope.updateThumbnails(percentage);\n                        }\n\n                        if (isSeeking) {\n                            API.seekTime(touchX * API.mediaElement[0].duration / slider.scrollWidth);\n                        }\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarTouchLeave = function onScrubBarTouchLeave(event) {\n                        isSeeking = false;\n                        scope.thumbnails = false;\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarMouseDown = function onScrubBarMouseDown(event) {\n                        event = VG_UTILS.fixEventOffset(event);\n\n                        isSeeking = true;\n                        if (isPlaying) isPlayingWhenSeeking = true;\n                        API.pause();\n\n                        API.seekTime(event.offsetX * API.mediaElement[0].duration / slider.scrollWidth);\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarMouseUp = function onScrubBarMouseUp(event) {\n                        //event = VG_UTILS.fixEventOffset(event);\n\n                        if (isPlayingWhenSeeking) {\n                            isPlayingWhenSeeking = false;\n                            API.play();\n                        }\n                        isSeeking = false;\n                        //API.seekTime(event.offsetX * API.mediaElement[0].duration / slider.scrollWidth);\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarMouseMove = function onScrubBarMouseMove(event) {\n                        if (scope.vgThumbnails && scope.vgThumbnails.length) {\n                            var second = Math.round(event.offsetX * API.mediaElement[0].duration / slider.scrollWidth);\n                            var percentage = Math.round(second * 100 / (API.totalTime / 1000));\n\n                            scope.updateThumbnails(percentage);\n                        }\n\n                        if (isSeeking) {\n                            event = VG_UTILS.fixEventOffset(event);\n                            API.seekTime(event.offsetX * API.mediaElement[0].duration / slider.scrollWidth);\n                        }\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarMouseLeave = function onScrubBarMouseLeave(event) {\n                        isSeeking = false;\n                        scope.thumbnails = false;\n\n                        scope.$digest();\n                    };\n\n                    scope.onScrubBarKeyDown = function onScrubBarKeyDown(event) {\n                        var currentPercent = (API.currentTime / API.totalTime) * 100;\n\n                        if (event.which === LEFT || event.keyCode === LEFT) {\n                            API.seekTime(currentPercent - NUM_PERCENT, true);\n                            event.preventDefault();\n                        }\n                        else if (event.which === RIGHT || event.keyCode === RIGHT) {\n                            API.seekTime(currentPercent + NUM_PERCENT, true);\n                            event.preventDefault();\n                        }\n                    };\n\n                    scope.updateThumbnails = function updateThumbnails(percentage) {\n                        var bgPos = Math.round(thumbnailsWidth * percentage / 100);\n                        var thPos = (slider.scrollWidth * percentage / 100) - (thumbWidth / 2);\n\n                        scope.thumbnailContainer = {\n                            \"width\": thumbWidth + \"px\",\n                            \"left\": thPos + \"px\"\n                        };\n\n                        scope.thumbnails = {\n                            \"background-image\": 'url(\"' + scope.vgThumbnails + '\")',\n                            \"background-position\": -bgPos + \"px 0px\"\n                        };\n                    };\n\n                    scope.setState = function setState(newState) {\n                        if (!isSeeking) {\n                            switch (newState) {\n                                case VG_STATES.PLAY:\n                                    isPlaying = true;\n                                    break;\n\n                                case VG_STATES.PAUSE:\n                                    isPlaying = false;\n                                    break;\n\n                                case VG_STATES.STOP:\n                                    isPlaying = false;\n                                    break;\n                            }\n                        }\n                    };\n\n                    scope.onDestroy = function() {\n                        elem.unbind(\"touchstart\", scope.onScrubBarTouchStart);\n                        elem.unbind(\"touchend\", scope.onScrubBarTouchEnd);\n                        elem.unbind(\"touchmove\", scope.onScrubBarTouchMove);\n                        elem.unbind(\"touchleave\", scope.onScrubBarTouchLeave);\n                        elem.unbind(\"mousedown\", scope.onScrubBarMouseDown);\n                        elem.unbind(\"mouseup\", scope.onScrubBarMouseUp);\n                        elem.unbind(\"mousemove\", scope.onScrubBarMouseMove);\n                        elem.unbind(\"mouseleave\", scope.onScrubBarMouseLeave);\n                    };\n\n                    scope.$watch(\n                        function () {\n                            return API.currentState;\n                        },\n                        function (newVal, oldVal) {\n                            if (newVal != oldVal) {\n                                scope.setState(newVal);\n                            }\n                        }\n                    );\n\n                    if (scope.vgThumbnails) {\n                        var thLoader = new Image();\n                        thLoader.onload = scope.onLoadThumbnails.bind(scope);\n                        thLoader.src = scope.vgThumbnails;\n                    }\n\n                    // Touch move is really buggy in Chrome for Android, maybe we could use mouse move that works ok\n                    if (VG_UTILS.isMobileDevice()) {\n                        elem.bind(\"touchstart\", scope.onScrubBarTouchStart);\n                        elem.bind(\"touchend\", scope.onScrubBarTouchEnd);\n                        elem.bind(\"touchmove\", scope.onScrubBarTouchMove);\n                        elem.bind(\"touchleave\", scope.onScrubBarTouchLeave);\n                    }\n                    else {\n                        elem.bind(\"mousedown\", scope.onScrubBarMouseDown);\n                        elem.bind(\"mouseup\", scope.onScrubBarMouseUp);\n                        elem.bind(\"mousemove\", scope.onScrubBarMouseMove);\n                        elem.bind(\"mouseleave\", scope.onScrubBarMouseLeave);\n                    }\n\n                    scope.$on('destroy', scope.onDestroy.bind(scope));\n                }\n            }\n        }\n    ]);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgTimeDisplay\n * @restrict E\n * @description\n * Adds a time display inside vg-controls to play and pause media.\n * You have three scope variables to show current time, time left and total time.\n *\n * Those scope variables are in milliseconds, you can add a date filter to show the time as you wish.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-time-display>{{currentTime | date:'hh:mm'}}</vg-time-display>\n *        <vg-time-display>{{timeLeft | date:'mm:ss'}}</vg-time-display>\n *        <vg-time-display>{{totalTime | date:'hh:mm:ss'}}</vg-time-display>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .directive(\"vgTimeDisplay\",\n    [function () {\n        return {\n            require: \"^videogular\",\n            restrict: \"E\",\n            link: function (scope, elem, attr, API) {\n                scope.currentTime = API.currentTime;\n                scope.timeLeft = API.timeLeft;\n                scope.totalTime = API.totalTime;\n                scope.isLive = API.isLive;\n\n                scope.$watch(\n                    function () {\n                        return API.currentTime;\n                    },\n                    function (newVal, oldVal) {\n                        scope.currentTime = newVal;\n                    }\n                );\n\n                scope.$watch(\n                    function () {\n                        return API.timeLeft;\n                    },\n                    function (newVal, oldVal) {\n                        scope.timeLeft = newVal;\n                    }\n                );\n\n                scope.$watch(\n                    function () {\n                        return API.totalTime;\n                    },\n                    function (newVal, oldVal) {\n                        scope.totalTime = newVal;\n                    }\n                );\n\n                scope.$watch(\n                    function () {\n                        return API.isLive;\n                    },\n                    function (newVal, oldVal) {\n                        scope.isLive = newVal;\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgMuteButton\n * @restrict E\n * @description\n * Directive to display a button to mute volume.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-volume>\n *            <vg-mute-button><vg-mute-button>\n *        </vg-volume>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-mute-button\",\n            '<button type=\"button\" class=\"iconButton\" ng-class=\"muteIcon\" ng-click=\"onClickMute()\" ng-focus=\"onMuteButtonFocus()\" ng-blur=\"onMuteButtonLoseFocus()\" ng-mouseleave=\"onMuteButtonLeave()\" ng-keydown=\"onMuteButtonKeyDown($event)\" aria-label=\"Mute\"></button>');\n    }]\n)\n    .directive(\"vgMuteButton\",\n    [function () {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            templateUrl: function (elem, attrs) {\n                return attrs.vgTemplate || 'vg-templates/vg-mute-button';\n            },\n            link: function (scope, elem, attr, API) {\n                var isMuted = false;\n                var UP = 38;\n                var DOWN = 40;\n                var CHANGE_PER_PRESS = 0.05;\n\n                scope.onClickMute = function onClickMute() {\n                    if (isMuted) {\n                        scope.currentVolume = scope.defaultVolume;\n                    }\n                    else {\n                        scope.currentVolume = 0;\n                        scope.muteIcon = {mute: true};\n                    }\n\n                    isMuted = !isMuted;\n\n                    API.setVolume(scope.currentVolume);\n                };\n\n                scope.onMuteButtonFocus = function onMuteButtonFocus() {\n                    scope.volumeVisibility = \"visible\";\n                };\n\n                scope.onMuteButtonLoseFocus = function onMuteButtonLoseFocus() {\n                    scope.volumeVisibility = \"hidden\";\n                };\n\n                scope.onMuteButtonLeave = function onMuteButtonLeave() {\n                    document.activeElement.blur();\n                };\n\n                scope.onMuteButtonKeyDown = function onMuteButtonKeyDown(event) {\n                    var currentVolume = (API.volume != null) ? API.volume : 1;\n                    var newVolume;\n\n                    if (event.which === UP || event.keyCode === UP) {\n                        newVolume = currentVolume + CHANGE_PER_PRESS;\n                        if (newVolume > 1) newVolume = 1;\n\n                        API.setVolume(newVolume);\n                        event.preventDefault();\n                    }\n                    else if (event.which === DOWN || event.keyCode === DOWN) {\n                        newVolume = currentVolume - CHANGE_PER_PRESS;\n                        if (newVolume < 0) newVolume = 0;\n\n                        API.setVolume(newVolume);\n                        event.preventDefault();\n                    }\n                };\n\n                scope.onSetVolume = function onSetVolume(newVolume) {\n                    scope.currentVolume = newVolume;\n\n                    isMuted = (scope.currentVolume === 0);\n\n                    // if it's not muted we save the default volume\n                    if (!isMuted) {\n                        scope.defaultVolume = newVolume;\n                    }\n                    else {\n                        // if was muted but the user changed the volume\n                        if (newVolume > 0) {\n                            scope.defaultVolume = newVolume;\n                        }\n                    }\n\n                    var percentValue = Math.round(newVolume * 100);\n                    if (percentValue == 0) {\n                        scope.muteIcon = {mute: true};\n                    }\n                    else if (percentValue > 0 && percentValue < 25) {\n                        scope.muteIcon = {level0: true};\n                    }\n                    else if (percentValue >= 25 && percentValue < 50) {\n                        scope.muteIcon = {level1: true};\n                    }\n                    else if (percentValue >= 50 && percentValue < 75) {\n                        scope.muteIcon = {level2: true};\n                    }\n                    else if (percentValue >= 75) {\n                        scope.muteIcon = {level3: true};\n                    }\n                };\n\n                scope.defaultVolume = 1;\n                scope.currentVolume = scope.defaultVolume;\n                scope.muteIcon = {level3: true};\n\n                //Update the mute button on initialization, then watch for changes\n                scope.onSetVolume(API.volume);\n                scope.$watch(\n                    function () {\n                        return API.volume;\n                    },\n                    function (newVal, oldVal) {\n                        if (newVal != oldVal) {\n                            scope.onSetVolume(newVal);\n                        }\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgVolumeBar\n * @restrict E\n * @description\n * Directive to display a vertical volume bar to control the volume.\n * This directive must be inside vg-volume directive and requires vg-mute-button to be displayed.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-volume>\n *            <vg-mute-button></vg-mute-button>\n *            <vg-volume-bar></vg-volume-bar>\n *        </vg-volume>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .run(\n    [\"$templateCache\", function ($templateCache) {\n        $templateCache.put(\"vg-templates/vg-volume-bar\",\n            '<div class=\"verticalVolumeBar\">\\\n              <div class=\"volumeBackground\" ng-click=\"onClickVolume($event)\" ng-mousedown=\"onMouseDownVolume()\" ng-mouseup=\"onMouseUpVolume()\" ng-mousemove=\"onMouseMoveVolume($event)\" ng-mouseleave=\"onMouseLeaveVolume()\">\\\n                <div class=\"volumeValue\"></div>\\\n                <div class=\"volumeClickArea\"></div>\\\n              </div>\\\n            </div>');\n    }]\n)\n    .directive(\"vgVolumeBar\",\n    [\"VG_UTILS\", function (VG_UTILS) {\n        return {\n            restrict: \"E\",\n            require: \"^videogular\",\n            templateUrl: function (elem, attrs) {\n                return attrs.vgTemplate || 'vg-templates/vg-volume-bar';\n            },\n            link: function (scope, elem, attr, API) {\n                var isChangingVolume = false;\n                var volumeBackElem = angular.element(elem[0].getElementsByClassName(\"volumeBackground\"));\n                var volumeValueElem = angular.element(elem[0].getElementsByClassName(\"volumeValue\"));\n\n                scope.onClickVolume = function onClickVolume(event) {\n                    event = VG_UTILS.fixEventOffset(event);\n                    var volumeHeight = parseInt(volumeBackElem.prop(\"offsetHeight\"));\n                    var value = event.offsetY * 100 / volumeHeight;\n                    var volValue = 1 - (value / 100);\n\n                    API.setVolume(volValue);\n                };\n\n                scope.onMouseDownVolume = function onMouseDownVolume() {\n                    isChangingVolume = true;\n                };\n\n                scope.onMouseUpVolume = function onMouseUpVolume() {\n                    isChangingVolume = false;\n                };\n\n                scope.onMouseLeaveVolume = function onMouseLeaveVolume() {\n                    isChangingVolume = false;\n                };\n\n                scope.onMouseMoveVolume = function onMouseMoveVolume(event) {\n                    if (isChangingVolume) {\n                        event = VG_UTILS.fixEventOffset(event);\n                        var volumeHeight = parseInt(volumeBackElem.prop(\"offsetHeight\"));\n                        var value = event.offsetY * 100 / volumeHeight;\n                        var volValue = 1 - (value / 100);\n\n                        API.setVolume(volValue);\n                    }\n                };\n\n                scope.updateVolumeView = function updateVolumeView(value) {\n                    value = value * 100;\n                    volumeValueElem.css(\"height\", value + \"%\");\n                    volumeValueElem.css(\"top\", (100 - value) + \"%\");\n                };\n\n                scope.onChangeVisibility = function onChangeVisibility(value) {\n                    elem.css(\"visibility\", value);\n                };\n\n                elem.css(\"visibility\", scope.volumeVisibility);\n\n                scope.$watch(\"volumeVisibility\", scope.onChangeVisibility);\n\n                //Update the volume bar on initialization, then watch for changes\n                scope.updateVolumeView(API.volume);\n                scope.$watch(\n                    function () {\n                        return API.volume;\n                    },\n                    function (newVal, oldVal) {\n                        if (newVal != oldVal) {\n                            scope.updateVolumeView(newVal);\n                        }\n                    }\n                );\n            }\n        }\n    }]\n);\n\n/**\n * @ngdoc directive\n * @name com.2fdevs.videogular.plugins.controls.directive:vgVolume\n * @restrict E\n * @description\n * Directive to control the volume.\n * This directive acts as a container and you will need other directives like vg-mutebutton and vg-volumebar to control the volume.\n * In mobile will be hided since volume API is disabled for mobile devices.\n *\n * <pre>\n * <videogular vg-theme=\"config.theme.url\">\n *    <vg-media vg-src=\"sources\"></vg-media>\n *\n *    <vg-controls vg-autohide='config.autohide' vg-autohide-time='config.autohideTime'>\n *        <vg-volume></vg-volume>\n *    </vg-controls>\n * </videogular>\n * </pre>\n *\n */\nangular.module(\"com.2fdevs.videogular.plugins.controls\")\n    .directive(\"vgVolume\",\n    [\"VG_UTILS\", function (VG_UTILS) {\n        return {\n            restrict: \"E\",\n            link: function (scope, elem, attr) {\n                scope.onMouseOverVolume = function onMouseOverVolume() {\n                    scope.$evalAsync(function () {\n                        scope.volumeVisibility = \"visible\";\n                    });\n                };\n\n                scope.onMouseLeaveVolume = function onMouseLeaveVolume() {\n                    scope.$evalAsync(function () {\n                        scope.volumeVisibility = \"hidden\";\n                    });\n                };\n\n                scope.onDestroy = function() {\n                    elem.unbind(\"mouseover\", scope.onScrubBarTouchStart);\n                    elem.unbind(\"mouseleave\", scope.onScrubBarTouchEnd);\n                };\n\n                // We hide volume controls on mobile devices\n                if (VG_UTILS.isMobileDevice()) {\n                    elem.css(\"display\", \"none\");\n                }\n                else {\n                    scope.volumeVisibility = \"hidden\";\n\n                    elem.bind(\"mouseover\", scope.onMouseOverVolume);\n                    elem.bind(\"mouseleave\", scope.onMouseLeaveVolume);\n                }\n\n                scope.$on('destroy', scope.onDestroy.bind(scope));\n            }\n        }\n    }]\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/videogular/dist/controls/vg-controls.js\n// module id = 12\n// module chunks = 0","require('./angular-sanitize');\nmodule.exports = 'ngSanitize';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angular-sanitize/index.js\n// module id = 13\n// module chunks = 0","/**\n * @license AngularJS v1.7.0\n * (c) 2010-2018 Google, Inc. http://angularjs.org\n * License: MIT\n */\n(function(window, angular) {'use strict';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *     Any commits to this file should be reviewed with security in mind.  *\n *   Changes to this file can potentially create security vulnerabilities. *\n *          An approval from 2 Core members with history of modifying      *\n *                         this file is required.                          *\n *                                                                         *\n *  Does the change somehow allow for arbitrary javascript to be executed? *\n *    Or allows for someone to change the prototype of built-in objects?   *\n *     Or gives undesired access to variables likes document or window?    *\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nvar $sanitizeMinErr = angular.$$minErr('$sanitize');\nvar bind;\nvar extend;\nvar forEach;\nvar isArray;\nvar isDefined;\nvar lowercase;\nvar noop;\nvar nodeContains;\nvar htmlParser;\nvar htmlSanitizeWriter;\n\n/**\n * @ngdoc module\n * @name ngSanitize\n * @description\n *\n * The `ngSanitize` module provides functionality to sanitize HTML.\n *\n * See {@link ngSanitize.$sanitize `$sanitize`} for usage.\n */\n\n/**\n * @ngdoc service\n * @name $sanitize\n * @kind function\n *\n * @description\n *   Sanitizes an html string by stripping all potentially dangerous tokens.\n *\n *   The input is sanitized by parsing the HTML into tokens. All safe tokens (from a whitelist) are\n *   then serialized back to a properly escaped HTML string. This means that no unsafe input can make\n *   it into the returned string.\n *\n *   The whitelist for URL sanitization of attribute values is configured using the functions\n *   `aHrefSanitizationWhitelist` and `imgSrcSanitizationWhitelist` of {@link $compileProvider}.\n *\n *   The input may also contain SVG markup if this is enabled via {@link $sanitizeProvider}.\n *\n * @param {string} html HTML input.\n * @returns {string} Sanitized HTML.\n *\n * @example\n   <example module=\"sanitizeExample\" deps=\"angular-sanitize.js\" name=\"sanitize-service\">\n   <file name=\"index.html\">\n     <script>\n         angular.module('sanitizeExample', ['ngSanitize'])\n           .controller('ExampleController', ['$scope', '$sce', function($scope, $sce) {\n             $scope.snippet =\n               '<p style=\"color:blue\">an html\\n' +\n               '<em onmouseover=\"this.textContent=\\'PWN3D!\\'\">click here</em>\\n' +\n               'snippet</p>';\n             $scope.deliberatelyTrustDangerousSnippet = function() {\n               return $sce.trustAsHtml($scope.snippet);\n             };\n           }]);\n     </script>\n     <div ng-controller=\"ExampleController\">\n        Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n       <table>\n         <tr>\n           <td>Directive</td>\n           <td>How</td>\n           <td>Source</td>\n           <td>Rendered</td>\n         </tr>\n         <tr id=\"bind-html-with-sanitize\">\n           <td>ng-bind-html</td>\n           <td>Automatically uses $sanitize</td>\n           <td><pre>&lt;div ng-bind-html=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n           <td><div ng-bind-html=\"snippet\"></div></td>\n         </tr>\n         <tr id=\"bind-html-with-trust\">\n           <td>ng-bind-html</td>\n           <td>Bypass $sanitize by explicitly trusting the dangerous value</td>\n           <td>\n           <pre>&lt;div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"&gt;\n&lt;/div&gt;</pre>\n           </td>\n           <td><div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"></div></td>\n         </tr>\n         <tr id=\"bind-default\">\n           <td>ng-bind</td>\n           <td>Automatically escapes</td>\n           <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n           <td><div ng-bind=\"snippet\"></div></td>\n         </tr>\n       </table>\n       </div>\n   </file>\n   <file name=\"protractor.js\" type=\"protractor\">\n     it('should sanitize the html snippet by default', function() {\n       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).\n         toBe('<p>an html\\n<em>click here</em>\\nsnippet</p>');\n     });\n\n     it('should inline raw snippet if bound to a trusted value', function() {\n       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).\n         toBe(\"<p style=\\\"color:blue\\\">an html\\n\" +\n              \"<em onmouseover=\\\"this.textContent='PWN3D!'\\\">click here</em>\\n\" +\n              \"snippet</p>\");\n     });\n\n     it('should escape snippet without any filter', function() {\n       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).\n         toBe(\"&lt;p style=\\\"color:blue\\\"&gt;an html\\n\" +\n              \"&lt;em onmouseover=\\\"this.textContent='PWN3D!'\\\"&gt;click here&lt;/em&gt;\\n\" +\n              \"snippet&lt;/p&gt;\");\n     });\n\n     it('should update', function() {\n       element(by.model('snippet')).clear();\n       element(by.model('snippet')).sendKeys('new <b onclick=\"alert(1)\">text</b>');\n       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).\n         toBe('new <b>text</b>');\n       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).toBe(\n         'new <b onclick=\"alert(1)\">text</b>');\n       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).toBe(\n         \"new &lt;b onclick=\\\"alert(1)\\\"&gt;text&lt;/b&gt;\");\n     });\n   </file>\n   </example>\n */\n\n\n/**\n * @ngdoc provider\n * @name $sanitizeProvider\n * @this\n *\n * @description\n * Creates and configures {@link $sanitize} instance.\n */\nfunction $SanitizeProvider() {\n  var hasBeenInstantiated = false;\n  var svgEnabled = false;\n\n  this.$get = ['$$sanitizeUri', function($$sanitizeUri) {\n    hasBeenInstantiated = true;\n    if (svgEnabled) {\n      extend(validElements, svgElements);\n    }\n    return function(html) {\n      var buf = [];\n      htmlParser(html, htmlSanitizeWriter(buf, function(uri, isImage) {\n        return !/^unsafe:/.test($$sanitizeUri(uri, isImage));\n      }));\n      return buf.join('');\n    };\n  }];\n\n\n  /**\n   * @ngdoc method\n   * @name $sanitizeProvider#enableSvg\n   * @kind function\n   *\n   * @description\n   * Enables a subset of svg to be supported by the sanitizer.\n   *\n   * <div class=\"alert alert-warning\">\n   *   <p>By enabling this setting without taking other precautions, you might expose your\n   *   application to click-hijacking attacks. In these attacks, sanitized svg elements could be positioned\n   *   outside of the containing element and be rendered over other elements on the page (e.g. a login\n   *   link). Such behavior can then result in phishing incidents.</p>\n   *\n   *   <p>To protect against these, explicitly setup `overflow: hidden` css rule for all potential svg\n   *   tags within the sanitized content:</p>\n   *\n   *   <br>\n   *\n   *   <pre><code>\n   *   .rootOfTheIncludedContent svg {\n   *     overflow: hidden !important;\n   *   }\n   *   </code></pre>\n   * </div>\n   *\n   * @param {boolean=} flag Enable or disable SVG support in the sanitizer.\n   * @returns {boolean|$sanitizeProvider} Returns the currently configured value if called\n   *    without an argument or self for chaining otherwise.\n   */\n  this.enableSvg = function(enableSvg) {\n    if (isDefined(enableSvg)) {\n      svgEnabled = enableSvg;\n      return this;\n    } else {\n      return svgEnabled;\n    }\n  };\n\n\n  /**\n   * @ngdoc method\n   * @name $sanitizeProvider#addValidElements\n   * @kind function\n   *\n   * @description\n   * Extends the built-in lists of valid HTML/SVG elements, i.e. elements that are considered safe\n   * and are not stripped off during sanitization. You can extend the following lists of elements:\n   *\n   * - `htmlElements`: A list of elements (tag names) to extend the current list of safe HTML\n   *   elements. HTML elements considered safe will not be removed during sanitization. All other\n   *   elements will be stripped off.\n   *\n   * - `htmlVoidElements`: This is similar to `htmlElements`, but marks the elements as\n   *   \"void elements\" (similar to HTML\n   *   [void elements](https://rawgit.com/w3c/html/html5.1-2/single-page.html#void-elements)). These\n   *   elements have no end tag and cannot have content.\n   *\n   * - `svgElements`: This is similar to `htmlElements`, but for SVG elements. This list is only\n   *   taken into account if SVG is {@link ngSanitize.$sanitizeProvider#enableSvg enabled} for\n   *   `$sanitize`.\n   *\n   * <div class=\"alert alert-info\">\n   *   This method must be called during the {@link angular.Module#config config} phase. Once the\n   *   `$sanitize` service has been instantiated, this method has no effect.\n   * </div>\n   *\n   * <div class=\"alert alert-warning\">\n   *   Keep in mind that extending the built-in lists of elements may expose your app to XSS or\n   *   other vulnerabilities. Be very mindful of the elements you add.\n   * </div>\n   *\n   * @param {Array<String>|Object} elements - A list of valid HTML elements or an object with one or\n   *   more of the following properties:\n   *   - **htmlElements** - `{Array<String>}` - A list of elements to extend the current list of\n   *     HTML elements.\n   *   - **htmlVoidElements** - `{Array<String>}` - A list of elements to extend the current list of\n   *     void HTML elements; i.e. elements that do not have an end tag.\n   *   - **svgElements** - `{Array<String>}` - A list of elements to extend the current list of SVG\n   *     elements. The list of SVG elements is only taken into account if SVG is\n   *     {@link ngSanitize.$sanitizeProvider#enableSvg enabled} for `$sanitize`.\n   *\n   * Passing an array (`[...]`) is equivalent to passing `{htmlElements: [...]}`.\n   *\n   * @return {$sanitizeProvider} Returns self for chaining.\n   */\n  this.addValidElements = function(elements) {\n    if (!hasBeenInstantiated) {\n      if (isArray(elements)) {\n        elements = {htmlElements: elements};\n      }\n\n      addElementsTo(svgElements, elements.svgElements);\n      addElementsTo(voidElements, elements.htmlVoidElements);\n      addElementsTo(validElements, elements.htmlVoidElements);\n      addElementsTo(validElements, elements.htmlElements);\n    }\n\n    return this;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @name $sanitizeProvider#addValidAttrs\n   * @kind function\n   *\n   * @description\n   * Extends the built-in list of valid attributes, i.e. attributes that are considered safe and are\n   * not stripped off during sanitization.\n   *\n   * **Note**:\n   * The new attributes will not be treated as URI attributes, which means their values will not be\n   * sanitized as URIs using `$compileProvider`'s\n   * {@link ng.$compileProvider#aHrefSanitizationWhitelist aHrefSanitizationWhitelist} and\n   * {@link ng.$compileProvider#imgSrcSanitizationWhitelist imgSrcSanitizationWhitelist}.\n   *\n   * <div class=\"alert alert-info\">\n   *   This method must be called during the {@link angular.Module#config config} phase. Once the\n   *   `$sanitize` service has been instantiated, this method has no effect.\n   * </div>\n   *\n   * <div class=\"alert alert-warning\">\n   *   Keep in mind that extending the built-in list of attributes may expose your app to XSS or\n   *   other vulnerabilities. Be very mindful of the attributes you add.\n   * </div>\n   *\n   * @param {Array<String>} attrs - A list of valid attributes.\n   *\n   * @returns {$sanitizeProvider} Returns self for chaining.\n   */\n  this.addValidAttrs = function(attrs) {\n    if (!hasBeenInstantiated) {\n      extend(validAttrs, arrayToMap(attrs, true));\n    }\n    return this;\n  };\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  // Private stuff\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n  bind = angular.bind;\n  extend = angular.extend;\n  forEach = angular.forEach;\n  isArray = angular.isArray;\n  isDefined = angular.isDefined;\n  lowercase = angular.$$lowercase;\n  noop = angular.noop;\n\n  htmlParser = htmlParserImpl;\n  htmlSanitizeWriter = htmlSanitizeWriterImpl;\n\n  nodeContains = window.Node.prototype.contains || /** @this */ function(arg) {\n    // eslint-disable-next-line no-bitwise\n    return !!(this.compareDocumentPosition(arg) & 16);\n  };\n\n  // Regular Expressions for parsing tags and attributes\n  var SURROGATE_PAIR_REGEXP = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n    // Match everything outside of normal chars and \" (quote character)\n    NON_ALPHANUMERIC_REGEXP = /([^#-~ |!])/g;\n\n\n  // Good source of info about elements and attributes\n  // http://dev.w3.org/html5/spec/Overview.html#semantics\n  // http://simon.html5.org/html-elements\n\n  // Safe Void Elements - HTML5\n  // http://dev.w3.org/html5/spec/Overview.html#void-elements\n  var voidElements = stringToMap('area,br,col,hr,img,wbr');\n\n  // Elements that you can, intentionally, leave open (and which close themselves)\n  // http://dev.w3.org/html5/spec/Overview.html#optional-tags\n  var optionalEndTagBlockElements = stringToMap('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr'),\n      optionalEndTagInlineElements = stringToMap('rp,rt'),\n      optionalEndTagElements = extend({},\n                                              optionalEndTagInlineElements,\n                                              optionalEndTagBlockElements);\n\n  // Safe Block Elements - HTML5\n  var blockElements = extend({}, optionalEndTagBlockElements, stringToMap('address,article,' +\n          'aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,' +\n          'h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul'));\n\n  // Inline Elements - HTML5\n  var inlineElements = extend({}, optionalEndTagInlineElements, stringToMap('a,abbr,acronym,b,' +\n          'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,' +\n          'samp,small,span,strike,strong,sub,sup,time,tt,u,var'));\n\n  // SVG Elements\n  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Elements\n  // Note: the elements animate,animateColor,animateMotion,animateTransform,set are intentionally omitted.\n  // They can potentially allow for arbitrary javascript to be executed. See #11290\n  var svgElements = stringToMap('circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,' +\n          'hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,' +\n          'radialGradient,rect,stop,svg,switch,text,title,tspan');\n\n  // Blocked Elements (will be stripped)\n  var blockedElements = stringToMap('script,style');\n\n  var validElements = extend({},\n                                     voidElements,\n                                     blockElements,\n                                     inlineElements,\n                                     optionalEndTagElements);\n\n  //Attributes that have href and hence need to be sanitized\n  var uriAttrs = stringToMap('background,cite,href,longdesc,src,xlink:href,xml:base');\n\n  var htmlAttrs = stringToMap('abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,' +\n      'color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,' +\n      'ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,' +\n      'scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,' +\n      'valign,value,vspace,width');\n\n  // SVG attributes (without \"id\" and \"name\" attributes)\n  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Attributes\n  var svgAttrs = stringToMap('accent-height,accumulate,additive,alphabetic,arabic-form,ascent,' +\n      'baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,' +\n      'cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,' +\n      'font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,' +\n      'height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,' +\n      'marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,' +\n      'max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,' +\n      'path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,' +\n      'requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,' +\n      'stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,' +\n      'stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,' +\n      'stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,' +\n      'underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,' +\n      'width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,' +\n      'xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan', true);\n\n  var validAttrs = extend({},\n                                  uriAttrs,\n                                  svgAttrs,\n                                  htmlAttrs);\n\n  function stringToMap(str, lowercaseKeys) {\n    return arrayToMap(str.split(','), lowercaseKeys);\n  }\n\n  function arrayToMap(items, lowercaseKeys) {\n    var obj = {}, i;\n    for (i = 0; i < items.length; i++) {\n      obj[lowercaseKeys ? lowercase(items[i]) : items[i]] = true;\n    }\n    return obj;\n  }\n\n  function addElementsTo(elementsMap, newElements) {\n    if (newElements && newElements.length) {\n      extend(elementsMap, arrayToMap(newElements));\n    }\n  }\n\n  /**\n   * Create an inert document that contains the dirty HTML that needs sanitizing\n   * Depending upon browser support we use one of three strategies for doing this.\n   * Support: Safari 10.x -> XHR strategy\n   * Support: Firefox -> DomParser strategy\n   */\n  var getInertBodyElement /* function(html: string): HTMLBodyElement */ = (function(window, document) {\n    var inertDocument;\n    if (document && document.implementation) {\n      inertDocument = document.implementation.createHTMLDocument('inert');\n    } else {\n      throw $sanitizeMinErr('noinert', 'Can\\'t create an inert html document');\n    }\n    var inertBodyElement = (inertDocument.documentElement || inertDocument.getDocumentElement()).querySelector('body');\n\n    // Check for the Safari 10.1 bug - which allows JS to run inside the SVG G element\n    inertBodyElement.innerHTML = '<svg><g onload=\"this.parentNode.remove()\"></g></svg>';\n    if (!inertBodyElement.querySelector('svg')) {\n      return getInertBodyElement_XHR;\n    } else {\n      // Check for the Firefox bug - which prevents the inner img JS from being sanitized\n      inertBodyElement.innerHTML = '<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">';\n      if (inertBodyElement.querySelector('svg img')) {\n        return getInertBodyElement_DOMParser;\n      } else {\n        return getInertBodyElement_InertDocument;\n      }\n    }\n\n    function getInertBodyElement_XHR(html) {\n      // We add this dummy element to ensure that the rest of the content is parsed as expected\n      // e.g. leading whitespace is maintained and tags like `<meta>` do not get hoisted to the `<head>` tag.\n      html = '<remove></remove>' + html;\n      try {\n        html = encodeURI(html);\n      } catch (e) {\n        return undefined;\n      }\n      var xhr = new window.XMLHttpRequest();\n      xhr.responseType = 'document';\n      xhr.open('GET', 'data:text/html;charset=utf-8,' + html, false);\n      xhr.send(null);\n      var body = xhr.response.body;\n      body.firstChild.remove();\n      return body;\n    }\n\n    function getInertBodyElement_DOMParser(html) {\n      // We add this dummy element to ensure that the rest of the content is parsed as expected\n      // e.g. leading whitespace is maintained and tags like `<meta>` do not get hoisted to the `<head>` tag.\n      html = '<remove></remove>' + html;\n      try {\n        var body = new window.DOMParser().parseFromString(html, 'text/html').body;\n        body.firstChild.remove();\n        return body;\n      } catch (e) {\n        return undefined;\n      }\n    }\n\n    function getInertBodyElement_InertDocument(html) {\n      inertBodyElement.innerHTML = html;\n\n      // Support: IE 9-11 only\n      // strip custom-namespaced attributes on IE<=11\n      if (document.documentMode) {\n        stripCustomNsAttrs(inertBodyElement);\n      }\n\n      return inertBodyElement;\n    }\n  })(window, window.document);\n\n  /**\n   * @example\n   * htmlParser(htmlString, {\n   *     start: function(tag, attrs) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * });\n   *\n   * @param {string} html string\n   * @param {object} handler\n   */\n  function htmlParserImpl(html, handler) {\n    if (html === null || html === undefined) {\n      html = '';\n    } else if (typeof html !== 'string') {\n      html = '' + html;\n    }\n\n    var inertBodyElement = getInertBodyElement(html);\n    if (!inertBodyElement) return '';\n\n    //mXSS protection\n    var mXSSAttempts = 5;\n    do {\n      if (mXSSAttempts === 0) {\n        throw $sanitizeMinErr('uinput', 'Failed to sanitize html because the input is unstable');\n      }\n      mXSSAttempts--;\n\n      // trigger mXSS if it is going to happen by reading and writing the innerHTML\n      html = inertBodyElement.innerHTML;\n      inertBodyElement = getInertBodyElement(html);\n    } while (html !== inertBodyElement.innerHTML);\n\n    var node = inertBodyElement.firstChild;\n    while (node) {\n      switch (node.nodeType) {\n        case 1: // ELEMENT_NODE\n          handler.start(node.nodeName.toLowerCase(), attrToMap(node.attributes));\n          break;\n        case 3: // TEXT NODE\n          handler.chars(node.textContent);\n          break;\n      }\n\n      var nextNode;\n      if (!(nextNode = node.firstChild)) {\n        if (node.nodeType === 1) {\n          handler.end(node.nodeName.toLowerCase());\n        }\n        nextNode = getNonDescendant('nextSibling', node);\n        if (!nextNode) {\n          while (nextNode == null) {\n            node = getNonDescendant('parentNode', node);\n            if (node === inertBodyElement) break;\n            nextNode = getNonDescendant('nextSibling', node);\n            if (node.nodeType === 1) {\n              handler.end(node.nodeName.toLowerCase());\n            }\n          }\n        }\n      }\n      node = nextNode;\n    }\n\n    while ((node = inertBodyElement.firstChild)) {\n      inertBodyElement.removeChild(node);\n    }\n  }\n\n  function attrToMap(attrs) {\n    var map = {};\n    for (var i = 0, ii = attrs.length; i < ii; i++) {\n      var attr = attrs[i];\n      map[attr.name] = attr.value;\n    }\n    return map;\n  }\n\n\n  /**\n   * Escapes all potentially dangerous characters, so that the\n   * resulting string can be safely inserted into attribute or\n   * element text.\n   * @param value\n   * @returns {string} escaped text\n   */\n  function encodeEntities(value) {\n    return value.\n      replace(/&/g, '&amp;').\n      replace(SURROGATE_PAIR_REGEXP, function(value) {\n        var hi = value.charCodeAt(0);\n        var low = value.charCodeAt(1);\n        return '&#' + (((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000) + ';';\n      }).\n      replace(NON_ALPHANUMERIC_REGEXP, function(value) {\n        return '&#' + value.charCodeAt(0) + ';';\n      }).\n      replace(/</g, '&lt;').\n      replace(/>/g, '&gt;');\n  }\n\n  /**\n   * create an HTML/XML writer which writes to buffer\n   * @param {Array} buf use buf.join('') to get out sanitized html string\n   * @returns {object} in the form of {\n   *     start: function(tag, attrs) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * }\n   */\n  function htmlSanitizeWriterImpl(buf, uriValidator) {\n    var ignoreCurrentElement = false;\n    var out = bind(buf, buf.push);\n    return {\n      start: function(tag, attrs) {\n        tag = lowercase(tag);\n        if (!ignoreCurrentElement && blockedElements[tag]) {\n          ignoreCurrentElement = tag;\n        }\n        if (!ignoreCurrentElement && validElements[tag] === true) {\n          out('<');\n          out(tag);\n          forEach(attrs, function(value, key) {\n            var lkey = lowercase(key);\n            var isImage = (tag === 'img' && lkey === 'src') || (lkey === 'background');\n            if (validAttrs[lkey] === true &&\n              (uriAttrs[lkey] !== true || uriValidator(value, isImage))) {\n              out(' ');\n              out(key);\n              out('=\"');\n              out(encodeEntities(value));\n              out('\"');\n            }\n          });\n          out('>');\n        }\n      },\n      end: function(tag) {\n        tag = lowercase(tag);\n        if (!ignoreCurrentElement && validElements[tag] === true && voidElements[tag] !== true) {\n          out('</');\n          out(tag);\n          out('>');\n        }\n        // eslint-disable-next-line eqeqeq\n        if (tag == ignoreCurrentElement) {\n          ignoreCurrentElement = false;\n        }\n      },\n      chars: function(chars) {\n        if (!ignoreCurrentElement) {\n          out(encodeEntities(chars));\n        }\n      }\n    };\n  }\n\n\n  /**\n   * When IE9-11 comes across an unknown namespaced attribute e.g. 'xlink:foo' it adds 'xmlns:ns1' attribute to declare\n   * ns1 namespace and prefixes the attribute with 'ns1' (e.g. 'ns1:xlink:foo'). This is undesirable since we don't want\n   * to allow any of these custom attributes. This method strips them all.\n   *\n   * @param node Root element to process\n   */\n  function stripCustomNsAttrs(node) {\n    while (node) {\n      if (node.nodeType === window.Node.ELEMENT_NODE) {\n        var attrs = node.attributes;\n        for (var i = 0, l = attrs.length; i < l; i++) {\n          var attrNode = attrs[i];\n          var attrName = attrNode.name.toLowerCase();\n          if (attrName === 'xmlns:ns1' || attrName.lastIndexOf('ns1:', 0) === 0) {\n            node.removeAttributeNode(attrNode);\n            i--;\n            l--;\n          }\n        }\n      }\n\n      var nextNode = node.firstChild;\n      if (nextNode) {\n        stripCustomNsAttrs(nextNode);\n      }\n\n      node = getNonDescendant('nextSibling', node);\n    }\n  }\n\n  function getNonDescendant(propName, node) {\n    // An element is clobbered if its `propName` property points to one of its descendants\n    var nextNode = node[propName];\n    if (nextNode && nodeContains.call(node, nextNode)) {\n      throw $sanitizeMinErr('elclob', 'Failed to sanitize html because the element is clobbered: {0}', node.outerHTML || node.outerText);\n    }\n    return nextNode;\n  }\n}\n\nfunction sanitizeText(chars) {\n  var buf = [];\n  var writer = htmlSanitizeWriter(buf, noop);\n  writer.chars(chars);\n  return buf.join('');\n}\n\n\n// define ngSanitize module and register $sanitize service\nangular.module('ngSanitize', [])\n  .provider('$sanitize', $SanitizeProvider)\n  .info({ angularVersion: '1.7.0' });\n\n/**\n * @ngdoc filter\n * @name linky\n * @kind function\n *\n * @description\n * Finds links in text input and turns them into html links. Supports `http/https/ftp/sftp/mailto` and\n * plain email address links.\n *\n * Requires the {@link ngSanitize `ngSanitize`} module to be installed.\n *\n * @param {string} text Input text.\n * @param {string} [target] Window (`_blank|_self|_parent|_top`) or named frame to open links in.\n * @param {object|function(url)} [attributes] Add custom attributes to the link element.\n *\n *    Can be one of:\n *\n *    - `object`: A map of attributes\n *    - `function`: Takes the url as a parameter and returns a map of attributes\n *\n *    If the map of attributes contains a value for `target`, it overrides the value of\n *    the target parameter.\n *\n *\n * @returns {string} Html-linkified and {@link $sanitize sanitized} text.\n *\n * @usage\n   <span ng-bind-html=\"linky_expression | linky\"></span>\n *\n * @example\n   <example module=\"linkyExample\" deps=\"angular-sanitize.js\" name=\"linky-filter\">\n     <file name=\"index.html\">\n       <div ng-controller=\"ExampleController\">\n       Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n       <table>\n         <tr>\n           <th>Filter</th>\n           <th>Source</th>\n           <th>Rendered</th>\n         </tr>\n         <tr id=\"linky-filter\">\n           <td>linky filter</td>\n           <td>\n             <pre>&lt;div ng-bind-html=\"snippet | linky\"&gt;<br>&lt;/div&gt;</pre>\n           </td>\n           <td>\n             <div ng-bind-html=\"snippet | linky\"></div>\n           </td>\n         </tr>\n         <tr id=\"linky-target\">\n          <td>linky target</td>\n          <td>\n            <pre>&lt;div ng-bind-html=\"snippetWithSingleURL | linky:'_blank'\"&gt;<br>&lt;/div&gt;</pre>\n          </td>\n          <td>\n            <div ng-bind-html=\"snippetWithSingleURL | linky:'_blank'\"></div>\n          </td>\n         </tr>\n         <tr id=\"linky-custom-attributes\">\n          <td>linky custom attributes</td>\n          <td>\n            <pre>&lt;div ng-bind-html=\"snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}\"&gt;<br>&lt;/div&gt;</pre>\n          </td>\n          <td>\n            <div ng-bind-html=\"snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}\"></div>\n          </td>\n         </tr>\n         <tr id=\"escaped-html\">\n           <td>no filter</td>\n           <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br>&lt;/div&gt;</pre></td>\n           <td><div ng-bind=\"snippet\"></div></td>\n         </tr>\n       </table>\n     </file>\n     <file name=\"script.js\">\n       angular.module('linkyExample', ['ngSanitize'])\n         .controller('ExampleController', ['$scope', function($scope) {\n           $scope.snippet =\n             'Pretty text with some links:\\n' +\n             'http://angularjs.org/,\\n' +\n             'mailto:us@somewhere.org,\\n' +\n             'another@somewhere.org,\\n' +\n             'and one more: ftp://127.0.0.1/.';\n           $scope.snippetWithSingleURL = 'http://angularjs.org/';\n         }]);\n     </file>\n     <file name=\"protractor.js\" type=\"protractor\">\n       it('should linkify the snippet with urls', function() {\n         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n             toBe('Pretty text with some links: http://angularjs.org/, us@somewhere.org, ' +\n                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n         expect(element.all(by.css('#linky-filter a')).count()).toEqual(4);\n       });\n\n       it('should not linkify snippet without the linky filter', function() {\n         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText()).\n             toBe('Pretty text with some links: http://angularjs.org/, mailto:us@somewhere.org, ' +\n                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n         expect(element.all(by.css('#escaped-html a')).count()).toEqual(0);\n       });\n\n       it('should update', function() {\n         element(by.model('snippet')).clear();\n         element(by.model('snippet')).sendKeys('new http://link.');\n         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n             toBe('new http://link.');\n         expect(element.all(by.css('#linky-filter a')).count()).toEqual(1);\n         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText())\n             .toBe('new http://link.');\n       });\n\n       it('should work with the target property', function() {\n        expect(element(by.id('linky-target')).\n            element(by.binding(\"snippetWithSingleURL | linky:'_blank'\")).getText()).\n            toBe('http://angularjs.org/');\n        expect(element(by.css('#linky-target a')).getAttribute('target')).toEqual('_blank');\n       });\n\n       it('should optionally add custom attributes', function() {\n        expect(element(by.id('linky-custom-attributes')).\n            element(by.binding(\"snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}\")).getText()).\n            toBe('http://angularjs.org/');\n        expect(element(by.css('#linky-custom-attributes a')).getAttribute('rel')).toEqual('nofollow');\n       });\n     </file>\n   </example>\n */\nangular.module('ngSanitize').filter('linky', ['$sanitize', function($sanitize) {\n  var LINKY_URL_REGEXP =\n        /((s?ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"\\u201d\\u2019]/i,\n      MAILTO_REGEXP = /^mailto:/i;\n\n  var linkyMinErr = angular.$$minErr('linky');\n  var isDefined = angular.isDefined;\n  var isFunction = angular.isFunction;\n  var isObject = angular.isObject;\n  var isString = angular.isString;\n\n  return function(text, target, attributes) {\n    if (text == null || text === '') return text;\n    if (!isString(text)) throw linkyMinErr('notstring', 'Expected string but received: {0}', text);\n\n    var attributesFn =\n      isFunction(attributes) ? attributes :\n      isObject(attributes) ? function getAttributesObject() {return attributes;} :\n      function getEmptyAttributesObject() {return {};};\n\n    var match;\n    var raw = text;\n    var html = [];\n    var url;\n    var i;\n    while ((match = raw.match(LINKY_URL_REGEXP))) {\n      // We can not end in these as they are sometimes found at the end of the sentence\n      url = match[0];\n      // if we did not match ftp/http/www/mailto then assume mailto\n      if (!match[2] && !match[4]) {\n        url = (match[3] ? 'http://' : 'mailto:') + url;\n      }\n      i = match.index;\n      addText(raw.substr(0, i));\n      addLink(url, match[0].replace(MAILTO_REGEXP, ''));\n      raw = raw.substring(i + match[0].length);\n    }\n    addText(raw);\n    return $sanitize(html.join(''));\n\n    function addText(text) {\n      if (!text) {\n        return;\n      }\n      html.push(sanitizeText(text));\n    }\n\n    function addLink(url, text) {\n      var key, linkAttributes = attributesFn(url);\n      html.push('<a ');\n\n      for (key in linkAttributes) {\n        html.push(key + '=\"' + linkAttributes[key] + '\" ');\n      }\n\n      if (isDefined(target) && !('target' in linkAttributes)) {\n        html.push('target=\"',\n                  target,\n                  '\" ');\n      }\n      html.push('href=\"',\n                url.replace(/\"/g, '&quot;'),\n                '\">');\n      addText(text);\n      html.push('</a>');\n    }\n  };\n}]);\n\n\n})(window, window.angular);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angular-sanitize/angular-sanitize.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nexport default function OtppVideoController($scope, $sce) {\n  'ngInject';\n\n  if ($scope.videoConfig && $scope.videoConfig.sources){\n    \n    let { sources, ...others } = $scope.videoConfig;\n\n    $scope.config = others;\n    $scope.config.sources = sources\n      .map(({ src, ...others }) => {\n        return {\n          src: $sce.trustAsResourceUrl(src),\n          ...others\n        }\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/otpp-video.controller.ts","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = 16\n// module chunks = 0","module.exports = \"<div class=\\\"video-box\\\"><videogular vg-theme=\\\"config.theme.url\\\" vg-auto-play=\\\"config.autoPlay\\\"><vg-media vg-src=\\\"config.sources\\\" vg-tracks=\\\"config.tracks\\\" vg-native-controls=\\\"!!config.nativeControls || false\\\"></vg-media><span ng-if=\\\"!config.nativeControls\\\"><vg-controls vg-autohide=\\\"controller.config.plugins.controls.autoHide\\\" vg-autohide-time=\\\"controller.config.plugins.controls.autoHideTime\\\"><vg-play-pause-button></vg-play-pause-button><vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display><vg-scrub-bar><vg-scrub-bar-current-time></vg-scrub-bar-current-time></vg-scrub-bar><vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display><vg-time-display>{{ totalTime | date:'mm:ss':'+0000' }}</vg-time-display><vg-volume><vg-mute-button></vg-mute-button><vg-volume-bar></vg-volume-bar></vg-volume><vg-fullscreen-button></vg-fullscreen-button></vg-controls></span></videogular></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/directives/otpp-video.pug\n// module id = 17\n// module chunks = 0","'use strict';\n/* eslint no-sync: 0 */\nconst angular = require('angular');\nimport TipsController from './tips.controller'\nimport ngModuleName from '../module-name';\n\nexport default angular.module(ngModuleName + '.tips', [])\n  .directive('tips', function() {\n    return {\n      template: require('./tips.pug'),\n\n      restrict: 'E',\n\n      scope: {\n        tips: '=',\n        values: '=',\n        image: '='\n      },\n\n      controller: TipsController,\n    }\n  })\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/tips.component.ts","'use strict';\n\nexport default function TipsController($scope, $parse) {\n  'ngInject';\n\n  if ($scope.tips) {\n    $scope.tips.forEach(function(tip) {\n      if (tip.condition) {\n        var parser = $parse(tip.condition);\n        tip.evaluateCondition = function() { return parser({ scope: $scope.values }) }\n      } else {\n        tip.evaluateCondition = function() { return true; }\n      }\n    })\n  }\n\n  $scope.hasAnyOneTipToShow = function() {\n    if (!$scope.tips) return false;\n\n    return $scope.tips.reduce(function(final, tip) {\n      return final || tip.evaluateCondition();\n    }, false)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/tips.controller.ts","module.exports = \"<div class=\\\"tips-box\\\" ng-show=\\\"hasAnyOneTipToShow()\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-12\\\"><div class=\\\"tip\\\"><img class=\\\"tip-image img-circle concierge-image\\\" ng-src=\\\"{{image}}\\\" ng-if=\\\"image\\\"/><div class=\\\"alert alert-info tip-message\\\"><span ng-hide=\\\"hasAnyOneTipToShow()\\\"><br/></span><span ng-repeat=\\\"tip in tips\\\" ng-show=\\\"tip.text &amp;&amp; tip.evaluateCondition()\\\">{{ tip.text }}</span></div></div></div></div></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/directives/tips.pug\n// module id = 20\n// module chunks = 0","import { Transition } from '../model/transition';\nimport { Thing } from '../model/thing';\n\nimport { ExecutionService } from './execution.service';\n\nimport * as _ from 'lodash';\n\nexport class ThingsService {\n\n  executionService: ExecutionService;\n\n  onFinish: Function;\n  onFinishThing: Function;\n\n  previousStates =[];\n\n  /*@ngInject*/\n  constructor(private $state, private $stateParams, private FormAnswerService) { }\n\n  load(transitions, things, actualThingKey, onStart, onStartThing, onFinish, onFinishThing) {\n    this.onFinish = onFinish;\n    this.onFinishThing = onFinishThing;\n    \n    this.executionService = new ExecutionService(transitions, things, this.FormAnswerService.get());\n    \n    if (actualThingKey) {\n      this.executionService.go(actualThingKey);\n    } else {\n      actualThingKey = this.executionService.start();\n\n      // Tell to controller that is started\n      if (onStart) {\n        onStart({ model: this.FormAnswerService.get() });\n      }\n    }\n    var current = this.executionService.getCurrent();\n    this.addToStatesStack(current.key);\n    //onStartThing\n    if (onStartThing) {\n      onStartThing({ thing: current, model: this.FormAnswerService.get() });\n    }\n  }\n\n  getCurrentThing() {\n    return this.executionService.getCurrent();\n  }\n\n  next() {\n    var current = this.executionService.getCurrent();\n    if (this.onFinishThing) {\n      this.onFinishThing({ thing: current, model: this.FormAnswerService.get() });\n    }\n\n    var nextThing = this.executionService.next();\n\n    if (!nextThing) {\n      // Tell to controller that is finished\n      if (this.onFinish) {\n        this.onFinish({ model: this.FormAnswerService.get() });\n      }\n    } else {\n      var stateParams = _.merge(this.$stateParams, { thingKey: nextThing.key })\n      this.$state.go(this.$state.current.name, stateParams);\n    }\n  }\n\n  back() {\n    let actual = this.previousStates.pop();\n    let previous = this.previousStates.pop();\n    if (!previous){\n      previous = 'start';\n    }\n    var stateParams = _.merge(this.$stateParams, { thingKey: previous })\n    this.$state.go(this.$state.current.name, stateParams);\n  }\n\n  addToStatesStack(state){\n    let peek = this.previousStates[this.previousStates.length - 1];\n    if (peek == state){\n      return;\n    } \n    this.previousStates.push(state); \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/things.service.ts","import { Transition } from '../model/transition';\nimport { Thing } from '../model/thing';\n\nimport { TransitionsService } from './transitions.service';\nimport * as _ from 'lodash';\n\nexport class ExecutionService {\n\n  current: Thing;\n  thingsMap: { [key: string]: Thing; };\n  things: Thing[];\n  transitions: Transition[];\n  scope: any;\n  transitionService: TransitionsService;\n\n  /*@ngInject*/\n  constructor(transitions: Transition[], things: Thing[], scope: any) {\n    this.transitions = transitions;\n    this.scope = scope;\n    this.things = things;\n    this.createMap(things);\n    this.transitionService = new TransitionsService(transitions, scope);\n  }\n\n  createMap(things: Thing[]) {\n    let self = this;\n    let start = things.find(thing =>  thing && thing.key === 'start');\n    if(!start) {\n      self.thingsMap = { \"start\": new Thing() };\n    } else {\n      self.thingsMap = { };\n    }\n    things.forEach((thing) => {\n      if (self.thingsMap[thing.key]) {\n        throw Error('Error inializing otpp execution. Multiple things with the same key')\n      }\n      self.thingsMap[thing.key] = thing;\n    })\n  }\n\n  start(): Thing {\n    var state: string = this.transitionService.getStartThing();\n    return this.getThing(state);\n  }\n\n  next(): Thing {\n    var state = this.transitionService.getNextThing();\n\n    if (state == 'end')\n      return undefined;\n\n    return this.getThing(state);\n  }\n\n  go(actualThingKey: string): Thing {\n    this.transitionService.go(actualThingKey);\n    return this.getThing(actualThingKey);\n  }\n\n  getCurrent(): Thing {\n    return this.getThing(this.transitionService.current);\n  }\n\n  private getThing(state): Thing {\n    var thing: Thing = this.thingsMap[state];\n    if (!thing) throw Error('OTPP: no \"Thing\" found for state \"' + state + '\"');\n    return thing;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/execution.service.ts","export class Thing {\n  key: string;\n  title: string;\n  fields: Array<any>;\n\n  scope?: any;\n\n  constructor() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/thing.ts","import { Transition } from '../model/transition';\n\n\nexport class TransitionsService {\n\n  current: string;\n  transitions: Transition[];\n  scope: any;\n\n  /*@ngInject*/\n  constructor(transitions: Transition[], scope: any) {\n    this.transitions = transitions;\n    this.scope = scope;\n  }\n\n  getStartThing(): string {\n    return this.nextThingKeyFromCurrentKey(\"start\");\n  }\n\n  getNextThing(): string {\n    return this.nextThingKeyFromCurrentKey(this.current);\n  }\n\n  nextThingKeyFromCurrentKey(currentKey: string): string {\n    this.current = this.nextThingFromCurrentKey(currentKey).to;\n    return this.current;\n  }\n\n  nextThingFromCurrentKey(currentKey: string): Transition {\n    var nextArr = this.transitions\n      .filter((transition) => {\n        return (transition.from === currentKey)\n      })\n      .filter((transition) => {\n        if (!transition.condition) {\n          return true;\n        } else {\n          return this.evaluate(this.scope, transition.condition)\n        }\n      })\n\n    if (nextArr.length === 0) {\n      throw Error('no destination state found from \"' + currentKey + '\" state');\n    }\n    if (nextArr.length > 1) {\n      throw Error('more then one destination state found from \"' + currentKey + '\" state');\n    }\n    let currentThing = nextArr[0];\n    if (!!currentThing.skip \n        && this.evaluate(this.scope, currentThing.skip)){\n      return this.nextThingFromCurrentKey(currentThing.to);\n    } else {\n      return currentThing;\n    }\n  }\n\n  go(thingKey: string): string {\n    this.current = thingKey;\n    return thingKey;\n  }\n\n  evaluate(scope, condition): boolean {\n    var result: boolean = false;\n    try {\n      result = function(scope) {\n        result = eval('(' + condition + ')');\n        return result;\n      } (this.scope);\n    } catch (err) {\n      console.log('undefined variable when evaluating condition')\n    }\n    return result;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/transitions.service.ts","import * as _ from 'lodash';\n\nexport class FormAnswerService {\n\n  formAnswer: any = {};\n\n  scope: any;\n  propName: string;\n\n  start(scope: any, propName: string) {\n    this.scope = scope;\n    this.propName = propName;\n\n    this.scope[this.propName] = _.merge(this.scope[this.propName], this.formAnswer);\n  }\n\n  get(): any {\n    return this.scope[this.propName];\n  }\n\n  add(oneThingAnswer: any) {\n    function mergeUsingSourceArray(objValue, srcValue) {\n      if (_.isArray(objValue)) {\n        return srcValue;\n      }\n    }\n\n    this.formAnswer = _.mergeWith(this.formAnswer, oneThingAnswer, mergeUsingSourceArray);\n    this.scope[this.propName] = _.mergeWith(this.scope[this.propName], this.formAnswer, mergeUsingSourceArray);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/form-answer.service.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.scss\n// module id = 26\n// module chunks = 0"],"sourceRoot":""}